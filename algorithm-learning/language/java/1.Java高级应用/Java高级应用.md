Javaé«˜çº§åº”ç”¨



# å¼‚å¸¸

## ä»€ä¹ˆæ˜¯ç¨‹åºçš„å¼‚å¸¸

åœ¨è¿›è¡Œé¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ç¨‹åºå‘˜æŠŠä»£ç å†™å¾—`å°½å–„å°½ç¾`ï¼Œåœ¨ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸­ä»ç„¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå¾ˆå¤šé—®é¢˜ä¸æ˜¯é ä»£ç èƒ½å¤Ÿé¿å…çš„

- **å¼‚å¸¸** ï¼šæŒ‡çš„æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„éæ­£å¸¸æƒ…å†µï¼Œå¦‚æœä¸å¤„ç†æœ€ç»ˆä¼šå¯¼è‡´JVMçš„éæ­£å¸¸åœæ­¢ã€‚

JavaæŠŠä¸åŒçš„å¼‚å¸¸ç”¨ä¸åŒçš„ç±»è¡¨ç¤ºï¼Œä¸€æ—¦å‘ç”ŸæŸç§å¼‚å¸¸ï¼Œå°±`åˆ›å»ºè¯¥å¼‚å¸¸ç±»å‹çš„å¯¹è±¡`ï¼Œå¹¶ä¸”æŠ›å‡ºï¼ˆthrowï¼‰ã€‚ç„¶åç¨‹åºå‘˜å¯ä»¥æ•è·(catch)åˆ°è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶å¤„ç†ï¼›å¦‚æœæ²¡æœ‰æ•è·(catch)è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å¯¹è±¡å°†ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚

## Javaå¼‚å¸¸ä½“ç³»

### Throwable

`java.lang.Throwable` ç±»æ˜¯Javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„å¼‚å¸¸äº‹ä»¶å¯¹åº”çš„ç±»çš„æ ¹çˆ¶ç±»ã€‚

**Throwableä¸­çš„å¸¸ç”¨æ–¹æ³•ï¼š**

- `public void printStackTrace()`ï¼šæ‰“å°å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚

  åŒ…å«äº†å¼‚å¸¸çš„ç±»å‹ã€å¼‚å¸¸çš„åŸå› ã€å¼‚å¸¸å‡ºç°çš„ä½ç½®ã€åœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µéƒ½å¾—ä½¿ç”¨printStackTraceã€‚

- `public String getMessage()`ï¼šè·å–å‘ç”Ÿå¼‚å¸¸çš„åŸå› ã€‚



### Error å’Œ Exception

Throwableçš„ä¸¤ä¸ªå­ç±»ï¼šErrorå’ŒExceptionã€‚åˆ†åˆ«å¯¹åº”ç€`java.lang.Error`ä¸`java.lang.Exception`ä¸¤ä¸ªç±»ã€‚

**Errorï¼š**Javaè™šæ‹Ÿæœºæ— æ³•è§£å†³çš„ä¸¥é‡é—®é¢˜ã€‚å¦‚ï¼šJVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰ä¸¥é‡æƒ…å†µã€‚å¿…é¡»ä¿®æ”¹ä»£ç ï¼Œdebug

- ä¾‹å¦‚ï¼šStackOverflowErrorï¼ˆæ ˆå†…å­˜æº¢å‡ºï¼‰å’ŒOutOfMemoryErrorï¼ˆå †å†…å­˜æº¢å‡ºï¼Œç®€ç§°OOMï¼‰ã€‚

**Exception:** å…¶å®ƒå› ç¼–ç¨‹é”™è¯¯æˆ–å¶ç„¶çš„å¤–åœ¨å› ç´ å¯¼è‡´çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ï¼Œä½¿ç¨‹åºç»§ç»­è¿è¡Œã€‚å¦åˆ™ä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºä¹Ÿä¼šæŒ‚æ‰ã€‚ä¾‹å¦‚ï¼š

- ç©ºæŒ‡é’ˆè®¿é—®
- è¯•å›¾è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶
- ç½‘ç»œè¿æ¥ä¸­æ–­
- æ•°ç»„è§’æ ‡è¶Šç•Œ

> è¯´æ˜ï¼š
>
> 1. æ— è®ºæ˜¯Errorè¿˜æ˜¯Exceptionï¼Œè¿˜æœ‰å¾ˆå¤šå­ç±»ï¼Œå¼‚å¸¸çš„ç±»å‹éå¸¸ä¸°å¯Œã€‚å½“ä»£ç è¿è¡Œå‡ºç°å¼‚å¸¸æ—¶ï¼Œç‰¹åˆ«æ˜¯æˆ‘ä»¬ä¸ç†Ÿæ‚‰çš„å¼‚å¸¸æ—¶ï¼Œä¸è¦ç´§å¼ ï¼ŒæŠŠå¼‚å¸¸çš„ç®€å•ç±»åï¼Œæ‹·è´åˆ°APIæ–‡æ¡£ä¸­å»æŸ¥å»è®¤è¯†å®ƒå³å¯ã€‚
> 2. æˆ‘ä»¬æœ¬ç« è®²çš„å¼‚å¸¸å¤„ç†ï¼Œå…¶å®æ˜¯é€šè¿‡å¼‚å¸¸å¤„ç†æœºåˆ¶å¤„ç†Exceptionï¼Œè€ŒErrorå¿…é¡»è¦ç¨‹åºå‘˜æ‰¾åˆ°é”™è¯¯ä»£ç å¹¶ä¿®æ”¹ã€‚

### ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸

Javaç¨‹åºçš„æ‰§è¡Œåˆ†ä¸ºç¼–è¯‘æ—¶è¿‡ç¨‹å’Œè¿è¡Œæ—¶è¿‡ç¨‹ã€‚æœ‰çš„é”™è¯¯åªæœ‰åœ¨`è¿è¡Œæ—¶`æ‰ä¼šå‘ç”Ÿã€‚æ¯”å¦‚ï¼šé™¤æ•°ä¸º0ï¼Œæ•°ç»„ä¸‹æ ‡è¶Šç•Œç­‰ã€‚

å› æ­¤ï¼Œæ ¹æ®å¼‚å¸¸å¯èƒ½å‡ºç°çš„é˜¶æ®µï¼Œå¯ä»¥å°†å¼‚å¸¸åˆ†ä¸ºï¼š

- **ç¼–è¯‘æ—¶æœŸå¼‚å¸¸**ï¼ˆå³checkedå¼‚å¸¸ã€å—æ£€å¼‚å¸¸ï¼‰ï¼šåœ¨ä»£ç ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°±èƒ½æ˜ç¡®`è­¦ç¤º`å½“å‰ä»£ç `å¯èƒ½å‘ç”Ÿï¼ˆä¸æ˜¯ä¸€å®šå‘ç”Ÿï¼‰`xxå¼‚å¸¸ï¼Œå¹¶`æ˜ç¡®ç£ä¿ƒ`ç¨‹åºå‘˜æå‰ç¼–å†™å¤„ç†å®ƒçš„å¼‚å¸¸å¤„ç†ä»£ç ã€‚å¦‚æœç¨‹åºå‘˜`æ²¡æœ‰ç¼–å†™`å¯¹åº”çš„å¼‚å¸¸å¤„ç†ä»£ç ï¼Œåˆ™ç¼–è¯‘å™¨å°±ä¼šç›´æ¥åˆ¤å®šç¼–è¯‘å¤±è´¥ï¼Œä»è€Œä¸èƒ½ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ã€‚é€šå¸¸ï¼Œè¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿä¸æ˜¯ç”±ç¨‹åºå‘˜çš„ä»£ç å¼•èµ·çš„ï¼Œæˆ–è€…ä¸æ˜¯é åŠ ç®€å•åˆ¤æ–­å°±å¯ä»¥é¿å…çš„ï¼Œä¾‹å¦‚ï¼šFileNotFoundExceptionï¼ˆæ–‡ä»¶æ‰¾ä¸åˆ°å¼‚å¸¸ï¼‰ã€‚

- **è¿è¡Œæ—¶æœŸå¼‚å¸¸**ï¼ˆå³runtimeå¼‚å¸¸ã€uncheckedå¼‚å¸¸ã€éå—æ£€å¼‚å¸¸ï¼‰ï¼šä»£ç è¿è¡Œåˆ°å‡ºé”™çš„åœ°æ–¹å¹¶ç¡®å®å‘ç”Ÿäº†xxå¼‚å¸¸ï¼Œå®ƒæ‰èƒ½è¢«å‘ç°ã€‚

  - **java.lang.RuntimeException**ç±»åŠå®ƒçš„å­ç±»éƒ½æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ã€‚æ¯”å¦‚ï¼šArrayIndexOutOfBoundsExceptionæ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼ŒClassCastExceptionç±»å‹è½¬æ¢å¼‚å¸¸ã€‚

    ä¸‹å›¾æ˜¯Javaå¼‚å¸¸å¤„ç†ç±»çš„ä½“ç³»å›¾

![1709032711282](Javaé«˜çº§åº”ç”¨.assets/1709032711282.png)



## å¼‚å¸¸å¤„ç†æœºåˆ¶

- Javaç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚å‡ºç°å¼‚å¸¸ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡ï¼Œè¯¥å¼‚å¸¸å¯¹è±¡å°†è¢«æäº¤ç»™Javaè¿è¡Œæ—¶ç³»ç»Ÿï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º`æŠ›å‡º(throw)å¼‚å¸¸`ã€‚
- å¦‚æœä¸€ä¸ªæ–¹æ³•å†…æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸å¯¹è±¡ä¼šè¢«æŠ›ç»™è°ƒç”¨è€…æ–¹æ³•ä¸­å¤„ç†ã€‚å¦‚æœå¼‚å¸¸æ²¡æœ‰åœ¨è°ƒç”¨è€…æ–¹æ³•ä¸­å¤„ç†ï¼Œå®ƒç»§ç»­è¢«æŠ›ç»™è¿™ä¸ªè°ƒç”¨æ–¹æ³•çš„ä¸Šå±‚æ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹å°†ä¸€ç›´ç»§ç»­ä¸‹å»ï¼Œç›´åˆ°å¼‚å¸¸è¢«å¤„ç†ã€‚è¿™ä¸€è¿‡ç¨‹ç§°ä¸º`æ•è·(catch)å¼‚å¸¸`ã€‚
- å¦‚æœä¸€ä¸ªå¼‚å¸¸å›åˆ°main()æ–¹æ³•ï¼Œå¹¶ä¸”main()ä¹Ÿä¸å¤„ç†ï¼Œåˆ™ç¨‹åºè¿è¡Œç»ˆæ­¢ã€‚

**Javaå¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼š**

æ–¹å¼ä¸€ï¼štry-catch-finally

æ–¹å¼äºŒï¼šthrows + å¼‚å¸¸ç±»å‹



### æ–¹å¼1ï¼šæ•è·å¼‚å¸¸ï¼ˆtry-catch-finallyï¼‰

```java
try{
	......	//å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 
}
catch( å¼‚å¸¸ç±»å‹1 e ){
	......	//å½“äº§ç”Ÿå¼‚å¸¸ç±»å‹1å‹å¼‚å¸¸æ—¶çš„å¤„ç½®æªæ–½
}
catch( å¼‚å¸¸ç±»å‹2 e ){
	...... 	//å½“äº§ç”Ÿå¼‚å¸¸ç±»å‹2å‹å¼‚å¸¸æ—¶çš„å¤„ç½®æªæ–½
}  
finally{
	...... //æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½æ— æ¡ä»¶æ‰§è¡Œçš„è¯­å¥
} 

```

**æ•´ä½“æ‰§è¡Œè¿‡ç¨‹ï¼š**

å½“æŸæ®µä»£ç å¯èƒ½å‘ç”Ÿå¼‚å¸¸ï¼Œä¸ç®¡è¿™ä¸ªå¼‚å¸¸æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼ˆå—æ£€å¼‚å¸¸ï¼‰è¿˜æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆéå—æ£€å¼‚å¸¸ï¼‰ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨tryå—å°†å®ƒæ‹¬èµ·æ¥ï¼Œå¹¶åœ¨tryå—ä¸‹é¢ç¼–å†™catchåˆ†æ”¯å°è¯•æ•è·å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡ã€‚

- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œé‚£ä¹ˆcatchæ‰€æœ‰çš„åˆ†æ”¯éƒ½ä¸æ‰§è¡Œã€‚
- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç å‘ç”Ÿäº†å¼‚å¸¸ï¼Œæ ¹æ®å¼‚å¸¸å¯¹è±¡çš„ç±»å‹ï¼Œå°†ä»ä¸Šåˆ°ä¸‹é€‰æ‹©**ç¬¬ä¸€ä¸ª**åŒ¹é…çš„catchåˆ†æ”¯æ‰§è¡Œã€‚**æ­¤æ—¶tryä¸­å‘ç”Ÿå¼‚å¸¸çš„è¯­å¥ï¼Œå…¶ä¸‹é¢çš„ä»£ç å°†ä¸æ‰§è¡Œ**ï¼Œè€Œæ•´ä¸ªtry...catchä¹‹åçš„ä»£ç å¯ä»¥ç»§ç»­è¿è¡Œã€‚
- å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œtryå—ä¸­çš„ä»£ç å‘ç”Ÿäº†å¼‚å¸¸ï¼Œä½†æ˜¯æ‰€æœ‰catchåˆ†æ”¯éƒ½æ— æ³•åŒ¹é…ï¼ˆæ•è·ï¼‰è¿™ä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆJVMå°†ä¼šç»ˆæ­¢å½“å‰æ–¹æ³•çš„æ‰§è¡Œï¼Œå¹¶æŠŠå¼‚å¸¸å¯¹è±¡â€œæŠ›â€ç»™è°ƒç”¨è€…ã€‚å¦‚æœè°ƒç”¨è€…ä¸å¤„ç†ï¼Œç¨‹åºå°±æŒ‚äº†ã€‚

æ³¨æ„ï¼š

1. å¦‚æœæœ‰å¤šä¸ªcatchåˆ†æ”¯ï¼Œå¹¶ä¸”å¤šä¸ªå¼‚å¸¸ç±»å‹æœ‰çˆ¶å­ç±»å…³ç³»ï¼Œå¿…é¡»ä¿è¯å°çš„å­å¼‚å¸¸ç±»å‹åœ¨ä¸Šï¼Œå¤§çš„çˆ¶å¼‚å¸¸ç±»å‹åœ¨ä¸‹ã€‚å¦åˆ™ï¼ŒæŠ¥é”™ã€‚
2. **å› ä¸ºå¼‚å¸¸ä¼šå¼•å‘ç¨‹åºè·³è½¬ï¼Œä»è€Œä¼šå¯¼è‡´tryä¸­å‘ç”Ÿå¼‚å¸¸çš„è¯­å¥ä¸‹é¢çš„ä»£ç æ‰§è¡Œä¸åˆ°ã€‚**è€Œç¨‹åºä¸­æœ‰ä¸€äº›ç‰¹å®šçš„ä»£ç æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œéƒ½`éœ€è¦æ‰§è¡Œ`ã€‚ä¾‹å¦‚ï¼Œæ•°æ®åº“è¿æ¥ã€è¾“å…¥æµè¾“å‡ºæµã€Socketè¿æ¥ã€Locké”çš„å…³é—­ç­‰ï¼Œè¿™æ ·çš„ä»£ç é€šå¸¸å°±ä¼šæ”¾åˆ°finallyå—ä¸­ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é€šå¸¸å°†ä¸€å®šè¦è¢«æ‰§è¡Œçš„ä»£ç å£°æ˜åœ¨finallyä¸­ã€‚
3. å‰é¢ä½¿ç”¨çš„å¼‚å¸¸éƒ½æ˜¯`RuntimeExceptionç±»`æˆ–æ˜¯å®ƒçš„`å­ç±»`ï¼Œè¿™äº›ç±»çš„å¼‚å¸¸çš„ç‰¹ç‚¹æ˜¯ï¼šå³ä½¿æ²¡æœ‰ä½¿ç”¨tryå’Œcatchæ•è·ï¼ŒJavaè‡ªå·±ä¹Ÿèƒ½æ•è·ï¼Œå¹¶ä¸”ç¼–è¯‘é€šè¿‡ ( ä½†è¿è¡Œæ—¶ä¼šå‘ç”Ÿå¼‚å¸¸ä½¿å¾—ç¨‹åºè¿è¡Œç»ˆæ­¢ )ã€‚æ‰€ä»¥ï¼Œå¯¹äºè¿™ç±»å¼‚å¸¸ï¼Œå¯ä»¥ä¸ä½œå¤„ç†ï¼Œå› ä¸ºè¿™ç±»å¼‚å¸¸å¾ˆæ™®éï¼Œè‹¥å…¨å¤„ç†å¯èƒ½ä¼šå¯¹ç¨‹åºçš„å¯è¯»æ€§å’Œè¿è¡Œæ•ˆç‡äº§ç”Ÿå½±å“ã€‚
4. å¦‚æœæŠ›å‡ºçš„å¼‚å¸¸æ˜¯IOExceptionç­‰ç±»å‹çš„`éè¿è¡Œæ—¶å¼‚å¸¸`ï¼Œåˆ™å¿…é¡»æ•è·ï¼Œå¦åˆ™`ç¼–è¯‘é”™è¯¯`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**æˆ‘ä»¬å¿…é¡»å¤„ç†ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå°†å¼‚å¸¸è¿›è¡Œæ•æ‰ï¼Œè½¬åŒ–ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚**



  å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š

```java
public abstract class Test {     
    public static void main(String[] args) {         
        System.out.println(beforeFinally());     
    }          
    public static int beforeFinally(){         
        int a = 0;         
        try{             
            a = 1;             
            return a;         
        }
        finally{             
            a = 2;
        }     
    } 
} 
/**output: 1 */
```

  ä»ç»“æœä¸Šçœ‹ï¼Œè²Œä¼¼`finally` é‡Œçš„è¯­å¥æ˜¯åœ¨`return` ä¹‹åæ‰§è¡Œçš„ï¼Œå…¶å®ä¸ç„¶ï¼Œå®é™…ä¸Š`finally` é‡Œçš„è¯­å¥æ˜¯åœ¨åœ¨`return` ä¹‹å‰æ‰§è¡Œçš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶æ˜¯åœ¨ä¹‹å‰æ‰§è¡Œï¼Œé‚£ä¸ºä»€ä¹ˆ`a` çš„å€¼æ²¡æœ‰è¢«è¦†ç›–äº†ï¼Ÿ
  å®é™…è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼šå½“ç¨‹åºæ‰§è¡Œåˆ°try{}è¯­å¥ä¸­çš„returnæ–¹æ³•æ—¶ï¼Œå®ƒä¼šå¹²è¿™ä¹ˆä¸€ä»¶äº‹ï¼Œå°†è¦è¿”å›çš„ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªä¸´æ—¶æ ˆä¸­ï¼Œç„¶åç¨‹åºä¸ä¼šç«‹å³è¿”å›ï¼Œè€Œæ˜¯å»æ‰§è¡Œfinally{}ä¸­çš„ç¨‹åºï¼Œ   **åœ¨æ‰§è¡Œ`a = 2`æ—¶ï¼Œç¨‹åºä»…ä»…æ˜¯è¦†ç›–äº†açš„å€¼ï¼Œä½†ä¸ä¼šå»æ›´æ–°ä¸´æ—¶æ ˆä¸­çš„é‚£ä¸ªè¦è¿”å›çš„å€¼**  ã€‚æ‰§è¡Œå®Œä¹‹åï¼Œå°±ä¼šé€šçŸ¥ä¸»ç¨‹åºâ€œfinallyçš„ç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œå¯ä»¥è¯·æ±‚è¿”å›äº†â€ï¼Œè¿™æ—¶ï¼Œå°±ä¼šå°†ä¸´æ—¶æ ˆä¸­çš„å€¼å–å‡ºæ¥è¿”å›ã€‚è¿™ä¸‹åº”è¯¥æ¸…æ¥šäº†ï¼Œè¦è¿”å›çš„å€¼æ˜¯ä¿å­˜è‡³ä¸´æ—¶æ ˆä¸­çš„ã€‚
  å†æ¥çœ‹ä¸€ä¸ªä¾‹å­,ç¨å¾®æ”¹ä¸‹ä¸Šé¢çš„ç¨‹åºï¼š

```java
 public abstract class Test {     
     public static void main(String[] args) {         
         System.out.println(beforeFinally());     
     }          
     public static int beforeFinally(){         
         int a = 0;         
         try{             
             a = 1;             
             return a;         
         }finally{             
             a = 2;             
             return a;         
         }     
     } 
 } 
/**output: 2 */
```

 åœ¨è¿™é‡Œï¼Œfinally{}é‡Œä¹Ÿæœ‰ä¸€ä¸ªreturnï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œè¿™ä¸ªreturnæ—¶ï¼Œå°±ä¼š**æ›´æ–°ä¸´æ—¶æ ˆä¸­çš„å€¼**ã€‚åŒæ ·ï¼Œåœ¨æ‰§è¡Œå®Œfinallyä¹‹åï¼Œå°±ä¼šé€šçŸ¥ä¸»ç¨‹åºè¯·æ±‚è¿”å›äº†ï¼Œå³å°†ä¸´æ—¶æ ˆä¸­çš„å€¼å–å‡ºæ¥è¿”å›ã€‚æ•…è¿”å›å€¼æ˜¯2. 



### æ–¹å¼2ï¼šå£°æ˜æŠ›å‡ºå¼‚å¸¸ç±»å‹ï¼ˆthrowsï¼‰

å¦‚æœåœ¨ç¼–å†™æ–¹æ³•ä½“çš„ä»£ç æ—¶ï¼ŒæŸå¥ä»£ç å¯èƒ½å‘ç”ŸæŸä¸ª`ç¼–è¯‘æ—¶å¼‚å¸¸`ï¼Œä¸å¤„ç†ç¼–è¯‘ä¸é€šè¿‡ï¼Œä½†æ˜¯åœ¨å½“å‰æ–¹æ³•ä½“ä¸­å¯èƒ½`ä¸é€‚åˆå¤„ç†`æˆ–`æ— æ³•ç»™å‡ºåˆç†çš„å¤„ç†æ–¹å¼`ï¼Œåˆ™æ­¤æ–¹æ³•åº”`æ˜¾å¼åœ°`å£°æ˜æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨æ˜è¯¥æ–¹æ³•å°†ä¸å¯¹è¿™äº›å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè€Œæ˜¯å°†å¼‚å¸¸æŠ›ç»™è¯¥æ–¹æ³•çš„è°ƒç”¨è€…ã€‚

![img](Javaé«˜çº§åº”ç”¨.assets/1562772282750.jpeg)

> ä¸Šå›¾ä¸­ï¼Œmainæ–¹æ³•ä¸­è°ƒç”¨methodAæ–¹æ³•ï¼Œåœ¨methodAä¸­åˆè°ƒç”¨methodBæ–¹æ³•ï¼Œåœ¨methodBä¸­åˆè°ƒç”¨methodCæ–¹æ³•ï¼Œåœ¨methodCæ–¹æ³•ä¸­å‡ºç°å¼‚å¸¸ï¼Œä½†æ˜¯ç¨‹åºå‘˜ä¸æƒ³åœ¨methodCæ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨throwså…³é”®å­—ï¼Œå°†methodCä¸­å‡ºç°çš„å¼‚å¸¸æŠ›ç»™methodCæ–¹æ³•çš„è°ƒç”¨è€…ï¼Œç”±å…¶è°ƒç”¨è€…å†³å®šæ˜¯ç»§ç»­æŠ›ç»™è°ƒç”¨è€…è¿˜æ˜¯å°†å¼‚å¸¸ç›´æ¥å¤„ç†äº†ã€‚

throwsçš„ä½¿ç”¨æ ¼å¼ï¼š

åœ¨æ–¹æ³•å£°æ˜ä¸­ç”¨`throwsè¯­å¥`å¯ä»¥å£°æ˜æŠ›å‡ºå¼‚å¸¸çš„åˆ—è¡¨ï¼Œthrowsåé¢çš„å¼‚å¸¸ç±»å‹å¯ä»¥æ˜¯æ–¹æ³•ä¸­äº§ç”Ÿçš„å¼‚å¸¸ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å®ƒçš„çˆ¶ç±»ã€‚

```java
ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°) throws å¼‚å¸¸ç±»å1,å¼‚å¸¸ç±»å2â€¦{   }	
```

åœ¨throwsåé¢å¯ä»¥å†™å¤šä¸ªå¼‚å¸¸ç±»å‹ï¼Œç”¨é€—å·éš”å¼€ã€‚

ä¸¾ä¾‹ï¼š

```java
public void readFile(String file)  throws FileNotFoundException,IOException {
	...
	// è¯»æ–‡ä»¶çš„æ“ä½œå¯èƒ½äº§ç”ŸFileNotFoundExceptionæˆ–IOExceptionç±»å‹çš„å¼‚å¸¸ï¼Œå› æ­¤åœ¨æ–¹æ³•å£°æ˜é‚£ä¸€è¡ŒæŠ›å‡ºäº†     // è¿™ä¿©å¼‚å¸¸
	FileInputStream fis = new FileInputStream(file);
}
```

### throws ä½¿ç”¨ä¸¾ä¾‹

**ä¸¾ä¾‹ï¼šé’ˆå¯¹äºç¼–è¯‘æ—¶å¼‚å¸¸**

```java
package com.atguigu.keyword;

public class TestThrowsCheckedException {
    public static void main(String[] args) {
        System.out.println("ä¸Šè¯¾.....");
        try {
            afterClass();//æ¢åˆ°è¿™é‡Œå¤„ç†å¼‚å¸¸
        } catch (InterruptedException e) {
            e.printStackTrace();
            System.out.println("å‡†å¤‡æå‰ä¸Šè¯¾");
        }
        System.out.println("ä¸Šè¯¾.....");
    }

    public static void afterClass() throws InterruptedException {
        for(int i=10; i>=1; i--){
            Thread.sleep(1000);//æœ¬æ¥åº”è¯¥åœ¨è¿™é‡Œå¤„ç†å¼‚å¸¸
            System.out.println("è·ç¦»ä¸Šè¯¾è¿˜æœ‰ï¼š" + i + "åˆ†é’Ÿ");
        }
    }
}

```

**ä¸¾ä¾‹ï¼šé’ˆå¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼š**

throwsåé¢ä¹Ÿå¯ä»¥æŠ›è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œåªæ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œå†™æˆ–ä¸å†™å¯¹äºç¼–è¯‘å™¨å’Œç¨‹åºæ‰§è¡Œæ¥è¯´éƒ½æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å¦‚æœå†™äº†ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯è°ƒç”¨è€…è°ƒç”¨è¯¥æ–¹æ³•åï¼Œä½¿ç”¨try...catchç»“æ„æ—¶ï¼ŒIDEAå¯ä»¥è·å¾—æ›´å¤šçš„ä¿¡æ¯ï¼Œéœ€è¦æ·»åŠ å“ªç§catchåˆ†æ”¯ã€‚

![1712242416432](Javaé«˜çº§åº”ç”¨.assets/1712242416432.png)

1ã€throwså‡ºç°åœ¨æ–¹æ³•å¤´ï¼Œthrowå‡ºç°åœ¨æ–¹æ³•ä½“
2ã€throwsè¡¨ç¤ºå¦‚æœå‡ºç°å¼‚å¸¸å°±å¾€å¤–æŠ›ï¼›throwåˆ™æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œæ‰§è¡Œthrowåˆ™ä¸€å®šæŠ›å‡ºäº†æŸç§å¼‚å¸¸ã€‚

### ä¸¤ç§å¼‚å¸¸å¤„ç†æ–¹å¼çš„é€‰æ‹©

å‰æï¼šå¯¹äºå¼‚å¸¸ï¼Œä½¿ç”¨ç›¸åº”çš„å¤„ç†æ–¹å¼ã€‚æ­¤æ—¶çš„å¼‚å¸¸ï¼Œä¸»è¦æŒ‡çš„æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚

- å¦‚æœç¨‹åºä»£ç ä¸­ï¼Œæ¶‰åŠåˆ°èµ„æºçš„è°ƒç”¨ï¼ˆæµã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰ï¼Œåˆ™å¿…é¡»è€ƒè™‘ä½¿ç”¨try-catch-finallyæ¥å¤„ç†ï¼Œä¿è¯ä¸å‡ºç°å†…å­˜æ³„æ¼ã€‚
- å¦‚æœçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æ²¡æœ‰throwså¼‚å¸¸ç±»å‹ï¼Œåˆ™å­ç±»é‡å†™çš„æ–¹æ³•ä¸­å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œåªèƒ½è€ƒè™‘ä½¿ç”¨try-catch-finallyè¿›è¡Œå¤„ç†ï¼Œä¸èƒ½throwsã€‚
- å¼€å‘ä¸­ï¼Œæ–¹æ³•aä¸­ä¾æ¬¡è°ƒç”¨äº†æ–¹æ³•b,c,dç­‰æ–¹æ³•ï¼Œæ–¹æ³•b,c,dä¹‹é—´æ˜¯é€’è¿›å…³ç³»ã€‚æ­¤æ—¶ï¼Œå¦‚æœæ–¹æ³•b,c,dä¸­æœ‰å¼‚å¸¸ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹©ä½¿ç”¨throwsï¼Œè€Œæ–¹æ³•aä¸­é€šå¸¸é€‰æ‹©ä½¿ç”¨try-catch-finallyã€‚

## æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼šthrow

Java ä¸­å¼‚å¸¸å¯¹è±¡çš„ç”Ÿæˆæœ‰ä¸¤ç§æ–¹å¼ï¼š

- ç”±è™šæ‹Ÿæœº**è‡ªåŠ¨ç”Ÿæˆ**ï¼šç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè™šæ‹Ÿæœºæ£€æµ‹åˆ°ç¨‹åºå‘ç”Ÿäº†é—®é¢˜ï¼Œé‚£ä¹ˆé’ˆå¯¹å½“å‰ä»£ç ï¼Œå°±ä¼šåœ¨åå°è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¯¹åº”å¼‚å¸¸ç±»çš„å®ä¾‹å¯¹è±¡å¹¶æŠ›å‡ºã€‚
- ç”±å¼€å‘äººå‘˜**æ‰‹åŠ¨åˆ›å»º**ï¼š`new å¼‚å¸¸ç±»å‹([å®å‚åˆ—è¡¨]);`ï¼Œå¦‚æœåˆ›å»ºå¥½çš„å¼‚å¸¸å¯¹è±¡ä¸æŠ›å‡ºå¯¹ç¨‹åºæ²¡æœ‰ä»»ä½•å½±å“ï¼Œå’Œåˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡ä¸€æ ·ï¼Œä½†æ˜¯ä¸€æ—¦throwæŠ›å‡ºï¼Œå°±ä¼šå¯¹ç¨‹åºè¿è¡Œäº§ç”Ÿå½±å“äº†ã€‚

### 5.1 ä½¿ç”¨æ ¼å¼

```java
throw new å¼‚å¸¸ç±»å(å‚æ•°);
```

throwè¯­å¥æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ï¼Œå’ŒJVMè‡ªåŠ¨åˆ›å»ºå’ŒæŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ä¸€æ ·ã€‚

- å¦‚æœæ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼ŒåŒæ ·éœ€è¦ä½¿ç”¨throwsæˆ–è€…try...catchå¤„ç†ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ã€‚

- å¦‚æœæ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨ä¸æç¤ºã€‚

- å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸å¿…é¡»æ˜¯Throwableæˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚ä¸‹é¢çš„è¯­å¥åœ¨ç¼–è¯‘æ—¶å°†ä¼šäº§ç”Ÿè¯­æ³•é”™è¯¯ï¼š

  ```java
  throw new String("want to throw");
  ```

### 5.2 ä½¿ç”¨æ³¨æ„ç‚¹

æ— è®ºæ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œè¿˜æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰è¢«try...catchåˆç†çš„å¤„ç†ï¼Œéƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚

throwè¯­å¥ä¼šå¯¼è‡´ç¨‹åºæ‰§è¡Œæµç¨‹è¢«æ”¹å˜ï¼Œthrowè¯­å¥æ˜¯æ˜ç¡®æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå› æ­¤å®ƒ`ä¸‹é¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œ`ã€‚

å¦‚æœå½“å‰æ–¹æ³•æ²¡æœ‰try...catchå¤„ç†è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œthrowè¯­å¥å°±ä¼š`ä»£æ›¿returnè¯­å¥`æå‰ç»ˆæ­¢å½“å‰æ–¹æ³•çš„æ‰§è¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ç»™è°ƒç”¨è€…ã€‚

```java
package com.atguigu.keyword;

public class TestThrow {
    public static void main(String[] args) {
        try {
            System.out.println(max(4,2,31,1));
        } catch (Exception e) {
            e.printStackTrace();
        }
        try {
            System.out.println(max(4));
        } catch (Exception e) {
            e.printStackTrace();
        }
        try {
            System.out.println(max());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static int max(int... nums){
        if(nums == null || nums.length==0){
            throw new IllegalArgumentException("æ²¡æœ‰ä¼ å…¥ä»»ä½•æ•´æ•°ï¼Œæ— æ³•è·å–æœ€å¤§å€¼");
        }
        int max = nums[0];
        for (int i = 1; i < nums.length; i++) {
            if(nums[i] > max){
                max = nums[i];
            }
        }
        return max;
    }
}

```

## è‡ªå®šä¹‰å¼‚å¸¸

[06ã€å¼‚å¸¸ï¼šå¼‚å¸¸çš„ä¸¤ç§å¤„ç†æ–¹å¼_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=135&spm_id_from=pageDriver&vd_source=5a374f315281b0338a0b7fd69b8b8e98)













# å¸¸ç”¨çš„ç±»ä¸API

æ¥ä¸‹æ¥è¦è®²çš„ç±»ä¸APIå‘¢ï¼Œéƒ½æ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œç›´æ¥çœ‹APIæ–‡æ¡£æˆ–è€…æºç ï¼Œæ ¹æœ¬çœ‹ä¸æ‡‚ä¸€ç‚¹ï¼Œå› æ­¤ï¼Œè¿™é‡Œçš„å»ºè®®æ˜¯è·Ÿç€å­¦ï¼Œä»¥åŠä¸Šç½‘æœå…·ä½“ç”¨æ³•ã€‚ç­‰ä½ åšäº†å‡ å¹´Javaç¨‹åºå‘˜ï¼Œå†™äº†ä¸å°‘ä»£ç ï¼Œå­¦äº†å„ç§çŸ¥è¯†ä¹‹åï¼Œå†å»é˜…è¯»APIæ–‡æ¡£æˆ–è€…æºç ã€‚

## Stringç±»

### å£°æ˜éƒ¨åˆ†ä¸é‡è¦ç‰ˆæœ¬å˜åŒ–

çœ‹çœ‹æºç ä¸­Stringç±»å£°æ˜:

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence{}
```

å¯ä»¥çœ‹åˆ°çš„æœ‰ï¼š

- Stringç±»è¢«finalä¿®é¥°ï¼Œè¯´æ˜ä¸å¯è¢«ç»§æ‰¿ã€‚
- Stringç±»æ²¡æœ‰æ˜¾ç¤ºç»§æ‰¿æŸä¸ªç±»ï¼Œè¯´æ˜ç»§æ‰¿Objectç±»
- Stringç±»å®ç°äº†ä¸‰ä¸ªæ¥å£ï¼Œç›®å‰ä¸ç”¨äº†è§£è¿™ä¸‰ä¸ªæ¥å£æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œåé¢æ…¢æ…¢å°±çŸ¥é“äº†ï¼Œäº†è§£å³å¯ã€‚



çœ‹çœ‹æºç ä¸­Stringç±»çš„é‡è¦çš„å±æ€§:

```java
/** The value is used for character storage. */
private final char value[];

//è¿™ä¸ªæ˜¯jdk8åŠä»¥å‰ï¼Œç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²çš„ã€‚ çœ‹æ¥Stringç±»å­˜å‚¨å­—ç¬¦ä¸²çš„æ–¹å¼ä½¿ç”¨å­—ç¬¦æ•°ç»„ã€‚
```

**å­—ç¬¦æ•°ç»„è¢«finalä¿®é¥°ï¼Œä¸”æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œå› æ­¤ï¼Œè¯¥å­—ç¬¦æ•°ç»„çš„å€¼ï¼Œå­˜çš„æ˜¯åœ°å€ï¼Œå³åœ°å€ä¸èƒ½å†æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥å¯¹æ•°ç»„çš„å†…å®¹é‡æ–°èµ‹å€¼ã€‚**



ä¸‹é¢æ˜¯jdk17å…³äºStringç±»çš„éƒ¨åˆ†ä»£ç ï¼š

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence,
               Constable, ConstantDesc {

    /**
     * The value is used for character storage.
     *
     * @implNote This field is trusted by the VM, and is a subject to
     * constant folding if String instance is constant. Overwriting this
     * field after construction will cause problems.
     *
     * Additionally, it is marked with {@link Stable} to trust the contents
     * of the array. No other facility in JDK provides this functionality (yet).
     * {@link Stable} is safe here, because value is never null.
     */
    @Stable
    private final byte[] value;
```

ä¸Šé¢æºç ä¸­çš„æ³¨é‡Šæ˜¯ä¸‹é¢è¿™å¼ å›¾ï¼Œå¯ä»¥çœ‹åˆ°æ³¨é‡Šä¸­  @implNote è¢«ææˆäº† ä¸‹å›¾ä¸­çš„Implementation Noteï¼Œä¹Ÿå°±æ˜¯ `å®ç°è¯´æ˜`çš„æ„æ€ã€‚ è¿™éƒ¨åˆ†æ˜¯å•¥æ„æ€çœ‹ä¸å¤ªæ‡‚ã€‚

![1709393190636](../Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8.assets/1709393190636.png)

å¯ä»¥çœ‹åˆ°ç›¸æ¯”java8ï¼Œå¤šäº†ä¿©æ¥å£ï¼Œè¿™ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ï¼ŒStringç±»å­˜å‚¨å­—ç¬¦çš„æ–¹å¼ä»å­—ç¬¦æ•°ç»„å˜æˆäº†byteæ•°ç»„ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œå­—ç¬¦æ•°ç»„ä¸­ä¸€ä¸ªä½ç½®å ä¸€ä¸ªå­—ç¬¦ï¼Œä¸€ä¸ªå­—ç¬¦æ˜¯ä¿©byteï¼Œç°åœ¨å°†å­˜å‚¨å­—ç¬¦çš„æ•°ç»„ä»å­—ç¬¦æ•°ç»„å˜æˆäº†byteæ•°ç»„äº†ã€‚å¯¹äºå­˜å‚¨åƒasciiå­—ç¬¦è¡¨ä¸­çš„å­—ç¬¦æ¥è¯´æ˜¯å¥½äº‹ï¼Œå› ä¸ºåŸå…ˆå­˜å‚¨ä¸€ä¸ªå­—ç¬¦è¦å æ®ä¿©å­—èŠ‚ï¼Œä½†ä¸€ä¸ªå­—ç¬¦åªéœ€ä¸€ä¸ªbyteï¼Œå¤šå‡ºæ¥çš„å°±è¢«æµªè´¹æ‰äº†ã€‚ç°åœ¨å¥½äº†ï¼Œç›´æ¥ç”¨byteæ•°ç»„æ¥å­˜äº†ã€‚

ä½†æ˜¯å¦‚æœå­˜å‚¨åƒä¸­æ–‡è¿™æ ·å ä¿©å­—èŠ‚çš„å­—ç¬¦æ¥è¯´ï¼Œä»å­—ç¬¦æ•°ç»„åˆ°byteæ•°ç»„çš„è½¬å˜ï¼Œåªæœ‰ä¸€ç‚¹åå¤„ï¼Œå°±æ˜¯å¯¹ç¨‹åºå‘˜æ¥è¯´ï¼Œè¦è®°ä½ä¸€ä¸ªä¸­æ–‡å­—ç¬¦è¦å ä¿©ä½ç½®äº†ã€‚å¯¹äºå­˜å‚¨æ–¹é¢æ²¡æœ‰åå½±å“ã€‚

ç®—æ˜¯å†…å­˜ä¼˜åŒ–å§ã€‚



### å­—ç¬¦ä¸²å¸¸é‡æ± åŠå®ä¾‹åŒ–è¿‡ç¨‹è§£æ

> ä»€ä¹ˆæ˜¯å¸¸é‡ï¼Ÿ
>
> åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå…¶å€¼ä¸èƒ½è¢«æ”¹å˜çš„é‡ç§°ä¸ºå¸¸é‡ã€‚ä¾‹å¦‚ï¼Œå­—é¢å€¼å°±æ˜¯ä¸€ç§å¸¸é‡ï¼Œè¢«finalä¿®é¥°çš„ä¹Ÿæ˜¯ä¸€ç§å¸¸é‡ã€‚



Stringç±»æ˜¯æˆ‘ä»¬å¹³å¸¸é¡¹ç›®ä¸­ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„ä¸€ç§ç±»å‹ï¼Œjvmä¸ºäº†æå‡æ€§èƒ½å’Œå‡å°‘å†…å­˜å¼€é”€ï¼Œé¿å…å­—ç¬¦ä¸²çš„é‡å¤åˆ›å»ºï¼Œå…¶ç»´æŠ¤äº†ä¸€å—ç‰¹æ®Šçš„å†…å­˜ç©ºé—´ï¼Œå³å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚



Stringç±»çš„å®ä¾‹åŒ–(å³åˆ›å»ºå¯¹è±¡)çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç›´æ¥èµ‹å€¼ï¼Œä¸€ç§æ˜¯æ„é€ æ–¹æ³•å®ç°å…¶å®ä¾‹åŒ–ã€‚



ç›´æ¥èµ‹å€¼ï¼š

å½“ä½¿ç”¨ç›´æ¥èµ‹å€¼çš„æ–¹å¼å®šä¹‰ä¸€ä¸ªStringç±»å¯¹è±¡æ—¶ï¼Œä¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºæ­¤å­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¦‚æœåç»­è¿˜æœ‰å…¶ä»–Stringç±»å¯¹è±¡ä¹Ÿé‡‡ç”¨äº†ç›´æ¥èµ‹å€¼çš„æ–¹å¼ï¼Œå¹¶ä¸”è®¾ç½®äº†åŒæ ·å­—ç¬¦ä¸²å†…å®¹ï¼Œé‚£ä¹ˆå°†ä¸ä¼šå¼€è¾Ÿæ–°çš„å †å†…å­˜ç©ºé—´ï¼Œè€Œæ˜¯å°†å·²æœ‰çš„å¯¹è±¡çš„å¼•ç”¨è¿›è¡Œèµ‹å€¼ã€‚

1. æ‰§è¡Œ`String s1= "hello";`åï¼ŒJVMåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¸º`hello`çš„Stringç±»å¯¹è±¡,å¹¶è®©s1æŒ‡å‘è¯¥å¯¹è±¡
2. æ‰§è¡Œ`String s2= "hello";`æ—¶ï¼ŒJVMä¼šå…ˆæ£€æŸ¥å¸¸é‡æ± ä¸­æ˜¯å¦å­˜åœ¨å­—ç¬¦ä¸²ä¸º`hello`çš„Stringç±»å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥è®©s2æŒ‡å‘è¯¥ç©ºé—´ï¼Œå¦åˆ™å°±ä¼šåœ¨å¼€è¾Ÿä¸€ä¸ªæ–°çš„ç©ºé—´å­˜æ”¾è¯¥å­—ç¬¦ä¸²ï¼Œå¹¶è®©s2æŒ‡å‘è¯¥å¯¹è±¡ã€‚

```java
String s1 = "hello";
String s2 = "hello";
System.out.println(s1 == s2);  // true
//åœ¨javaä¸­ï¼Œå…³ç³»è¿ç®—ç¬¦==å¦‚æœç”¨åœ¨Stringç±»ä¸Šåˆ™è¡¨ç¤ºå†…å­˜åœ°å€æ•°å€¼çš„æ¯”è¾ƒæ˜¯å¦ç›¸åŒï¼Œ
//ç”±æ‰“å°å¾—åˆ°trueå¯çŸ¥ï¼Œè¿™ä¿©æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªStringç±»å¯¹è±¡ï¼Œå³åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºçš„é‚£ä¸ªå¯¹è±¡ã€‚

s2 = "hi";
// JVMä¼šå…ˆæ£€æŸ¥å¸¸é‡æ± ä¸­æ˜¯å¦å­˜åœ¨å­—ç¬¦ä¸²ä¸º`hi`çš„Stringç±»å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥è®©s2æŒ‡å‘è¯¥ç©ºé—´ï¼Œå¦åˆ™å°±ä¼šåœ¨å¼€è¾Ÿä¸€ä¸ªæ–°çš„ç©ºé—´å­˜æ”¾è¯¥å­—ç¬¦ä¸²ï¼Œå¹¶è®©s2æŒ‡å‘è¯¥å¯¹è±¡ã€‚
```



é€šè¿‡æ„é€ å™¨å®ç°å®ä¾‹åŒ–ï¼š

å¦‚æœé‡‡ç”¨Stringç±»çš„æ„é€ æ–¹æ³•å®ä¾‹åŒ–Stringå¯¹è±¡çš„è¯,é¦–å…ˆï¼Œåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¸º`hello`çš„Stringç±»å¯¹è±¡ï¼Œç„¶åå°†è¯¥å¯¹è±¡ä¼ é€’ç»™æ„é€ å™¨ï¼Œé€šè¿‡æ„é€ å™¨ï¼Œä¼šåœ¨å †ä¸­å†åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¸º`hello`çš„Stringç±»å¯¹è±¡ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰ï¼Œå³stræŒ‡å‘çš„å¯¹è±¡æ˜¯å †ä¸­åˆ›å»ºçš„å¯¹è±¡ã€‚

è¿™ä¸ªè¿‡ç¨‹ä¸€å…±åˆ›å»ºäº†ä¸¤ä¸ªStringç±»å¯¹è±¡ã€‚

```java
String str = new String("hello");
```



å°±ç›¸å½“äºä¸‹é¢è¿™æ ·ï¼š

```java
String s = "hello";
String str = new String(s);
```







è¿›ä¸€æ­¥ç†è§£ï¼š

![1709568056657](../Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8.assets/1709568056657.png)



> æˆ‘æƒ³è·å¾—Stringç±»å¯¹è±¡çš„valueå€¼ï¼Œçœ‹çœ‹æ˜¯å¦æ˜¯è¿™æ ·çš„ã€‚é—®äº†ä¸€ä¸‹GPTï¼š
>
> æˆ‘ï¼šåœ¨Javaä¸­å¦‚ä½•è·å¾—Stringç±»å¯¹è±¡çš„å±æ€§valueçš„å€¼ï¼Ÿ
>
> ChatGPTï¼š
>
> åœ¨Javaä¸­ï¼ŒStringç±»çš„å±æ€§valueæ˜¯ä¸€ä¸ªcharæ•°ç»„ï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸²çš„å­—ç¬¦ã€‚ç„¶è€Œï¼ŒStringç±»å¹¶æ²¡æœ‰æä¾›ç›´æ¥è®¿é—®è¯¥å±æ€§çš„å…¬å…±æ–¹æ³•ï¼Œå› ä¸ºStringç±»æ˜¯ä¸å¯å˜çš„ï¼Œå®ƒçš„å†…éƒ¨æ•°æ®æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”ä¸èƒ½è¢«å¤–éƒ¨ä¿®æ”¹ã€‚
>
> å°½ç®¡å¦‚æ­¤ï¼Œä½ ä»ç„¶å¯ä»¥é€šè¿‡åå°„æ¥è·å–Stringå¯¹è±¡çš„å±æ€§valueçš„å€¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š
>
> ```
> javaCopy code
> import java.lang.reflect.Field;
> 
> public class Main {
>  public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException {
>      String str = "Hello, world!";
>      
>      // ä½¿ç”¨åå°„è·å–Stringç±»çš„å±æ€§value
>      Field valueField = String.class.getDeclaredField("value");
>      valueField.setAccessible(true); // å°†ç§æœ‰å±æ€§è®¾ç½®ä¸ºå¯è®¿é—®
>      char[] value = (char[]) valueField.get(str); // è·å–å±æ€§å€¼
>      
>      // æ‰“å°å±æ€§å€¼
>      System.out.println(value);
>  }
> }
> ```
>
> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä¾èµ–äºåå°„ï¼Œå¯èƒ½ä¼šåœ¨æŸäº›ç¯å¢ƒä¸­å—åˆ°é™åˆ¶ï¼Œè€Œä¸”ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¹¿æ³›ä½¿ç”¨ã€‚
>
> è¿™é‡Œéœ€è¦å€ŸåŠ©åå°„ï¼Œä¸è¿‡æˆ‘è¿˜æ²¡å­¦åˆ°ã€‚ã€‚ã€‚å…ˆç•™ç€ã€‚ã€‚ã€‚



ç»ƒä¹ ï¼šè‡ªå·±å†™å†™è¿™ä¸ªè¿‡ç¨‹ï¼Œ

![1709568475908](../Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8.assets/1709568475908.png)



### intern()æ–¹æ³•

intern()æ–¹æ³•æ˜¯Stringç±»é‡Œçš„æ–¹æ³•ã€‚

```java
public String intern()  //å‡½æ•°å£°æ˜ï¼šæ— å‚æ•°ï¼Œè¿”å›å€¼æ˜¯Stringç±»å¯¹è±¡
```

å½“è°ƒç”¨ intern() æ–¹æ³•æ—¶ï¼Œå¦‚æœå­—ç¬¦ä¸²æ± ä¸­å·²ç»å­˜åœ¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²æ± ä¸­çš„å¼•ç”¨ï¼›å¦åˆ™ï¼Œå°†è¯¥å­—ç¬¦ä¸²æ·»åŠ åˆ°å­—ç¬¦ä¸²æ± ä¸­ï¼Œå¹¶è¿”å›å¯¹å­—ç¬¦ä¸²æ± ä¸­çš„æ–°å¼•ç”¨ã€‚

```java
public class RunoobTest {
Â  Â  public static void main(String args[]) {
Â  Â  Â  Â  String str1 = "Runoob";
Â  Â  Â  Â  String str2 = new String("Runoob");
Â  Â  Â  Â  String str3 = str2.intern();

Â  Â  Â  Â  System.out.println(str1 == str2); Â // false
Â  Â  Â  Â  System.out.println(str1 == str3); Â // true
Â  Â  Â  Â  }
}
```



### replaceæ–¹æ³•

çœ‹æºç ï¼Œç»“åˆå®ä¾‹åŒ–è¿‡ç¨‹è§£æä¸€ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚ã€‚ã€‚





### æ‹¼æ¥

æ‹¼æ¥è¿‡ç¨‹å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥åŠç‰ˆæœ¬å˜åŒ–å¸¦æ¥äº†ä»€ä¹ˆæ”¹å˜ã€‚ğŸ‘‡

#### å¸¸é‡+å¸¸é‡

**å¸¸é‡æŠ˜å **ï¼Œæ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ã€‚ç¼–è¯‘çš„æ—¶å€™å°±å¯ä»¥ç¡®å®šå…¶å€¼çš„å¸¸é‡ï¼Œåœ¨è¿›è¡Œè¿ç®—çš„æ—¶å€™ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±å®Œæˆäº†ã€‚

```java
String s1 = "hello" + "world";
// åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥ä¼˜åŒ–æˆä¸‹é¢çš„è¯­å¥
String s1 = "helloworld";
```

åŒç†ï¼Œ

```java
final String s1 = "hello";
final String s2 = "world";
String s3 = s1 + s2;   // ç­‰ä»·äº String s3 = "helloworld";
```

s3æŒ‡å‘çš„æ˜¯å¸¸é‡æ± ä¸­çš„Stringç±»å¯¹è±¡ã€‚

#### å˜é‡+å˜é‡æˆ–å˜é‡+å¸¸é‡

```java
String s1 = "hello";
String s2 = "world";
String s3 = s1 + s2;  //å˜é‡+å˜é‡
String s4 = "hello" + s2; //å¸¸é‡+å˜é‡
```

åº•å±‚å®ç°ï¼š

```java
String s3 = new StringBuffer(s1).append(s2).toString(); 
```

StringBufferç±»ä¸­çš„toString()æ–¹æ³•è¿”å›çš„æ˜¯newå‡ºæ¥çš„Stringç±»å¯¹è±¡ã€‚å› æ­¤s3æŒ‡å‘çš„æ˜¯å †ç©ºé—´çš„Stringç±»å¯¹è±¡ã€‚



> ç»†èŠ‚ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± åˆ°åº•ä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²å¯¹è±¡è¿˜æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Ÿ

åœ¨å­¦ä¹ è¿‡ä¸Šé¢çš„å†…å®¹åï¼Œå­¦ä¹ æœ€åä¸€ä¸ªé—®é¢˜ï¼Œçœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š

```java
String s3 = new String("1") + new String("1");
s3.intern();
String s4 = "11";
System.out.println(s3 == s4);

----------------
JDK 6 è¾“å‡º : false
JDK 7 è¾“å‡º : true    
```



å…ˆè¯´ç»“è®ºï¼šåœ¨ JDK 6 åŠä»¥å‰ç‰ˆæœ¬ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¿å­˜å­—ç¬¦ä¸²å¯¹è±¡ï¼›JDK 6 ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œæ—¢ä¿å­˜äº†å­—ç¬¦ä¸²å¯¹è±¡ï¼Œåˆä¿å­˜äº†å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ã€‚



åœ¨ `String s3 = new String("1") + new String("1");`æ‰§è¡Œå®Œåï¼Œå †ä¸­æ–°å»ºäº†ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸º `1` çš„åŒ¿åå¯¹è±¡ï¼Œè¿™ä¿©åŒ¿åå¯¹è±¡æ˜¯å˜é‡æ‹¼æ¥ï¼Œæœ€ås3æŒ‡å‘å †ä¸­ å­—ç¬¦ä¸²ä¸º `11`çš„å¯¹è±¡ã€‚

åœ¨ `s3.intern();`æ‰§è¡Œå®Œåï¼Œç”±äºå¸¸é‡æ± ä¸­æ²¡æœ‰ å­—ç¬¦ä¸²ä¸º `11`çš„å¯¹è±¡ï¼Œå› æ­¤ä¼šåœ¨å¸¸é‡æ± ä¸­æ–°å»ºä¸€ä¸ª `11`å¯¹è±¡ã€‚

åœ¨ `String s4 = "11";`æ‰§è¡Œå®Œåï¼Œs4æŒ‡å‘å¸¸é‡æ± ä¸­çš„ `11`å¯¹è±¡ã€‚

æœ€å `System.out.println(s3 == s4);`åˆ¤æ–­ s3å’Œs4æ˜¯å¦æŒ‡å‘åŒä¸€å¯¹è±¡ã€‚

åœ¨JDK6åŠä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œè¾“å‡ºçš„ç»“æœä¸º false ï¼Œè¯´æ˜ s3 å’Œs4 ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚

åœ¨JDK6ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œè¾“å‡ºç»“æœä¸º trueï¼Œå®é™…ä¸Šï¼Œ åœ¨æ‰§è¡Œå®Œ `s3.intern();`åï¼Œæ­¤æ—¶å¸¸é‡æ± ä¸­æ²¡æœ‰å­—ç¬¦ä¸²ä¸º`11`çš„å¯¹è±¡ï¼Œè€Œå †ä¸­æœ‰å­—ç¬¦ä¸²ä¸º`11`çš„å¯¹è±¡ï¼Œå› æ­¤å°±ç›´æ¥å°†è¯¥å¯¹è±¡çš„å¼•ç”¨ä¼ å…¥åˆ°äº†å¸¸é‡æ± ä¸­ï¼Œå¹¶æ²¡æœ‰åƒJDK6åŠä»¥å‰çš„ç‰ˆæœ¬ä¸€æ ·æ–°å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å­—ç¬¦ä¸²å¯¹è±¡äº†ã€‚



åŸå› ï¼šåœ¨JDK7ä¸­ï¼Œå°†å­—ç¬¦ä¸²å¸¸é‡æ± ä»æ–¹æ³•åŒºç§»åˆ°äº†å †ä¸­ã€‚

#### concat()



### å¸¸ç”¨API

#### æ„é€ å™¨

- `public String() ` ï¼šåˆå§‹åŒ–æ–°åˆ›å»ºçš„ Stringå¯¹è±¡ï¼Œä»¥ä½¿å…¶è¡¨ç¤ºç©ºå­—ç¬¦åºåˆ—ã€‚
- ` String(String original)`ï¼š åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„ `String` å¯¹è±¡ï¼Œä½¿å…¶è¡¨ç¤ºä¸€ä¸ªä¸å‚æ•°ç›¸åŒçš„å­—ç¬¦åºåˆ—ï¼›æ¢å¥è¯è¯´ï¼Œæ–°åˆ›å»ºçš„å­—ç¬¦ä¸²æ˜¯è¯¥å‚æ•°å­—ç¬¦ä¸²çš„å‰¯æœ¬ã€‚
- `public String(char[] value) ` ï¼šé€šè¿‡å½“å‰å‚æ•°ä¸­çš„å­—ç¬¦æ•°ç»„æ¥æ„é€ æ–°çš„Stringã€‚
- `public String(char[] value,int offset, int count) ` ï¼šé€šè¿‡å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†æ¥æ„é€ æ–°çš„Stringã€‚
- `public String(byte[] bytes) ` ï¼šé€šè¿‡ä½¿ç”¨å¹³å°çš„**é»˜è®¤å­—ç¬¦é›†**è§£ç å½“å‰å‚æ•°ä¸­çš„å­—èŠ‚æ•°ç»„æ¥æ„é€ æ–°çš„Stringã€‚
- `public String(byte[] bytes,String charsetName) ` ï¼šé€šè¿‡ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†è§£ç å½“å‰å‚æ•°ä¸­çš„å­—èŠ‚æ•°ç»„æ¥æ„é€ æ–°çš„Stringã€‚

#### Stringä¸å…¶ä»–ç»“æ„é—´çš„è½¬æ¢

**å­—ç¬¦ä¸² --> åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»ï¼š**

- IntegeråŒ…è£…ç±»çš„public static int parseInt(String s)ï¼šå¯ä»¥å°†ç”±â€œæ•°å­—â€å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹ã€‚
- ç±»ä¼¼åœ°ï¼Œä½¿ç”¨java.langåŒ…ä¸­çš„Byteã€Shortã€Longã€Floatã€Doubleç±»è°ƒç›¸åº”çš„ç±»æ–¹æ³•å¯ä»¥å°†ç”±â€œæ•°å­—â€å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè½¬åŒ–ä¸ºç›¸åº”çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚

**åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±» --> å­—ç¬¦ä¸²ï¼š**

- è°ƒç”¨Stringç±»çš„public String valueOf(int n)å¯å°†intå‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²
- ç›¸åº”çš„valueOf(byte b)ã€valueOf(long l)ã€valueOf(float f)ã€valueOf(double d)ã€valueOf(boolean b)å¯ç”±å‚æ•°çš„ç›¸åº”ç±»å‹åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢ã€‚

 **å­—ç¬¦æ•°ç»„ -->  å­—ç¬¦ä¸²ï¼š**

- String ç±»çš„æ„é€ å™¨ï¼šString(char[]) å’Œ String(char[]ï¼Œint offsetï¼Œint length) åˆ†åˆ«ç”¨å­—ç¬¦æ•°ç»„ä¸­çš„å…¨éƒ¨å­—ç¬¦å’Œéƒ¨åˆ†å­—ç¬¦åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ã€‚ 

 **å­—ç¬¦ä¸² -->  å­—ç¬¦æ•°ç»„ï¼š**

- public char[] toCharArray()ï¼šå°†å­—ç¬¦ä¸²ä¸­çš„å…¨éƒ¨å­—ç¬¦å­˜æ”¾åœ¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„ä¸­çš„æ–¹æ³•ã€‚
- public void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)ï¼šæä¾›äº†å°†æŒ‡å®šç´¢å¼•èŒƒå›´å†…çš„å­—ç¬¦ä¸²å­˜æ”¾åˆ°æ•°ç»„ä¸­çš„æ–¹æ³•ã€‚

**å­—ç¬¦ä¸² --> å­—èŠ‚æ•°ç»„ï¼šï¼ˆç¼–ç ï¼‰**

- public byte[] getBytes() ï¼šä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦é›†å°†æ­¤ String ç¼–ç ä¸º byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„ byte æ•°ç»„ä¸­ã€‚
- public byte[] getBytes(String charsetName) ï¼šä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†å°†æ­¤ String ç¼–ç åˆ° byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°æ–°çš„ byte æ•°ç»„ã€‚

 **å­—èŠ‚æ•°ç»„ --> å­—ç¬¦ä¸²ï¼šï¼ˆè§£ç ï¼‰**

- String(byte[])ï¼šé€šè¿‡ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦é›†è§£ç æŒ‡å®šçš„ byte æ•°ç»„ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„ Stringã€‚
- String(byte[]ï¼Œint offsetï¼Œint length) ï¼šç”¨æŒ‡å®šçš„å­—èŠ‚æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œå³ä»æ•°ç»„èµ·å§‹ä½ç½®offsetå¼€å§‹å–lengthä¸ªå­—èŠ‚æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚
- String(byte[], String charsetName ) æˆ– new String(byte[], int, int,String charsetName )ï¼šè§£ç ï¼ŒæŒ‰ç…§æŒ‡å®šçš„ç¼–ç æ–¹å¼è¿›è¡Œè§£ç ã€‚







ï¼ˆ1ï¼‰boolean isEmpty()ï¼šå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
ï¼ˆ2ï¼‰int length()ï¼šè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦
ï¼ˆ3ï¼‰String concat(xx)ï¼šæ‹¼æ¥
ï¼ˆ4ï¼‰boolean equals(Object obj)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼ŒåŒºåˆ†å¤§å°å†™
ï¼ˆ5ï¼‰boolean equalsIgnoreCase(Object obj)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸åŒºåˆ†å¤§å°å†™
ï¼ˆ6ï¼‰int compareTo(String other)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°ï¼ŒåŒºåˆ†å¤§å°å†™ï¼ŒæŒ‰ç…§Unicodeç¼–ç å€¼æ¯”è¾ƒå¤§å°
ï¼ˆ7ï¼‰int compareToIgnoreCase(String other)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°ï¼Œä¸åŒºåˆ†å¤§å°å†™
ï¼ˆ8ï¼‰String toLowerCase()ï¼šå°†å­—ç¬¦ä¸²ä¸­å¤§å†™å­—æ¯è½¬ä¸ºå°å†™
ï¼ˆ9ï¼‰String toUpperCase()ï¼šå°†å­—ç¬¦ä¸²ä¸­å°å†™å­—æ¯è½¬ä¸ºå¤§å†™
ï¼ˆ10ï¼‰String trim()ï¼šå»æ‰å­—ç¬¦ä¸²å‰åç©ºç™½ç¬¦
ï¼ˆ11ï¼‰public String intern()ï¼šç»“æœåœ¨å¸¸é‡æ± ä¸­å…±äº«





ï¼ˆ11ï¼‰boolean contains(xx)ï¼šæ˜¯å¦åŒ…å«xx
ï¼ˆ12ï¼‰int indexOf(xx)ï¼šä»å‰å¾€åæ‰¾å½“å‰å­—ç¬¦ä¸²ä¸­xxï¼Œå³å¦‚æœæœ‰è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œè¦æ˜¯æ²¡æœ‰è¿”å›-1
ï¼ˆ13ï¼‰int indexOf(String str, int fromIndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹
ï¼ˆ14ï¼‰int lastIndexOf(xx)ï¼šä»åå¾€å‰æ‰¾å½“å‰å­—ç¬¦ä¸²ä¸­xxï¼Œå³å¦‚æœæœ‰è¿”å›æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œè¦æ˜¯æ²¡æœ‰è¿”å›-1
ï¼ˆ15ï¼‰int lastIndexOf(String str, int fromIndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢ã€‚



ï¼ˆ16ï¼‰String substring(int beginIndex) ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä»beginIndexå¼€å§‹æˆªå–åˆ°æœ€åçš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ 
ï¼ˆ17ï¼‰String substring(int beginIndex, int endIndex) ï¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²ä»beginIndexå¼€å§‹æˆªå–åˆ°endIndex(ä¸åŒ…å«)çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ 





ï¼ˆ18ï¼‰char charAt(index)ï¼šè¿”å›[index]ä½ç½®çš„å­—ç¬¦
ï¼ˆ19ï¼‰char[] toCharArray()ï¼š å°†æ­¤å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦æ•°ç»„è¿”å›
ï¼ˆ20ï¼‰static String valueOf(char[] data)  ï¼šè¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ String
ï¼ˆ21ï¼‰static String valueOf(char[] data, int offset, int count) ï¼š è¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ String
ï¼ˆ22ï¼‰static String copyValueOf(char[] data)ï¼š è¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ String
ï¼ˆ23ï¼‰static String copyValueOf(char[] data, int offset, int count)ï¼šè¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ String



ï¼ˆ24ï¼‰boolean startsWith(xx)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹ 
ï¼ˆ25ï¼‰boolean startsWith(String prefix, int toffset)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å§‹
ï¼ˆ26ï¼‰boolean endsWith(xx)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“æŸ 



ï¼ˆ27ï¼‰String replace(char oldChar, char newChar)ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡ç”¨ newChar æ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ‰€æœ‰ oldChar å¾—åˆ°çš„ã€‚ ä¸æ”¯æŒæ­£åˆ™ã€‚
ï¼ˆ28ï¼‰String replace(CharSequence target, CharSequence replacement)ï¼šä½¿ç”¨æŒ‡å®šçš„å­—é¢å€¼æ›¿æ¢åºåˆ—æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…å­—é¢å€¼ç›®æ ‡åºåˆ—çš„å­å­—ç¬¦ä¸²ã€‚ 
ï¼ˆ29ï¼‰String replaceAll(String regex, String replacement)ï¼šä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²ã€‚ 
ï¼ˆ30ï¼‰String replaceFirst(String regex, String replacement)ï¼šä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ 





## StringBufferã€StringBuilder

å› ä¸ºStringå¯¹è±¡æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œè™½ç„¶å¯ä»¥å…±äº«å¸¸é‡å¯¹è±¡ï¼Œä½†æ˜¯å¯¹äºé¢‘ç¹å­—ç¬¦ä¸²çš„ä¿®æ”¹å’Œæ‹¼æ¥æ“ä½œï¼Œæ•ˆç‡æä½ï¼Œç©ºé—´æ¶ˆè€—ä¹Ÿæ¯”è¾ƒé«˜ã€‚å› æ­¤ï¼ŒJDKåˆåœ¨java.langåŒ…æä¾›äº†å¯å˜å­—ç¬¦åºåˆ—StringBufferå’ŒStringBuilderç±»å‹ã€‚

[08ã€å¸¸ç”¨APIï¼ˆä¸€ï¼‰ï¼šStringBuilderã€StringBufferã€StringJoiner_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=118&spm_id_from=pageDriver&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

é“¾å¼ç¼–ç¨‹



StringJoineræ ¼å¼åŒ–å­—ç¬¦ä¸²



## Mathã€Systemã€Runtime

[01ã€å¸¸ç”¨API(äºŒ)ï¼šMathã€Systemã€Runtime_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=119&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

ä¸‹é¢ä»£ç è¾“å‡ºæ˜¯ï¼Ÿ

```java
`double` `d1=-0.5;``System.out.println(``"Ceil d1="``+Math.``ceil``(d1));``System.out.println(``"floor d1="``+Math.``floor``(d1));`
```

A ã€ Ceil d1=-0.0 floor d1=-1.0

B ã€Ceil d1=0.0 floor d1=-1.0

é€‰A

è§£é‡Šï¼š

```java
Math.ceil(d1) 
```

  ceil æ–¹æ³•ä¸Šæœ‰è¿™ä¹ˆä¸€æ®µæ³¨é‡Šï¼šIf the argument value is less than zero but     greater than -1.0, then the result  is negative zero 

  å¦‚æœå‚æ•°å°äº0ä¸”å¤§äº-1.0ï¼Œç»“æœä¸º -0 

```java
Math.floor(d1)
```

  ceil å’Œ floor æ–¹æ³• ä¸Šéƒ½æœ‰ä¸€å¥è¯ï¼šIf the argument is NaN or an infinity     or positive zero or negative zero, then the result is the same as    the argumentï¼Œæ„æ€ä¸ºï¼šå¦‚æœå‚æ•°æ˜¯ NaNã€æ— ç©·ã€æ­£ 0ã€è´Ÿ 0ï¼Œé‚£ä¹ˆç»“æœä¸å‚æ•°ç›¸åŒ



## BigDecimal





## JDK8ä¹‹å‰ï¼šæ—¥æœŸæ—¶é—´API



## JDK8ï¼šæ–°çš„æ—¥æœŸæ—¶é—´API











## æ­£åˆ™è¡¨è¾¾å¼

[03ã€æ­£åˆ™è¡¨è¾¾å¼ï¼šæ¦‚è¿°ã€åˆä½“éªŒã€åŒ¹é…è§„åˆ™_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=132&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

[Pattern (Java SE 17 & JDK 17) (oracle.com)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html)









# æ³›å‹

## ç†è§£

Java æ³›å‹ï¼ˆgenericsï¼‰æ˜¯ JDK 5 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§

æ³›å‹è¯´ç™½äº†å°±æ˜¯å°†`ç±»å‹` å‚æ•°åŒ–ã€‚å¯ä»¥ç”¨åœ¨**ç±»ã€æ–¹æ³•å’Œæ¥å£**ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸º`æ³›å‹ç±»`ã€`æ³›å‹æ–¹æ³•`ã€`æ³›å‹æ¥å£`ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

æ¯”å¦‚æˆ‘æƒ³å®ç°ä¸åŒç±»å‹å¯¹è±¡çš„æ‰“å°è¾“å‡ºåŠŸèƒ½ï¼š

æ€è·¯ï¼šä¸ºæ¯ä¸€ä¸ªç±»å‹å†™ä¸€ä¸ªç±»æ¥å®ç°æ‰“å°åŠŸèƒ½

```java
public class IntegerPrinter {     // å®ç°Integerç±»çš„æ‰“å°åŠŸèƒ½
    Integer i;
    IntegerPrinter(Integer i) {
        this.i = i;
    }
    public void print() {
        System.out.println(i);
    }
}
```

```java
public class StringPrinter {     // å®ç°Stringç±»çš„æ‰“å°åŠŸèƒ½
    String s;
    StringPrinter(String s) {
        this.s = s;
    }
    public void print() {
        System.out.println(s);
    }
}
```

å¤šçš„å°±ä¸å†™äº†ï¼Œä¸‹é¢è°ƒç”¨ä¸€ä¸‹ï¼š

```java
public class Main {
    public static void main(String[] args) {
        IntegerPrinter p = new IntegerPrinter(12);
        p.print();    // 12
        StringPrinter s = new StringPrinter("hello");
        s.print();   // hello
    }
}
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»¥ç”¨å¤šæ€æ¥å®ç°ï¼š

```java
public class Printer {
    Object o;
    Printer(Object o) {
        this.o = o;
    }
    public void print() {
        System.out.println(o.toString());
    }
}
```

```java
public class Main {
    public static void main(String[] args) {
        Printer p = new Printer(12);
        p.print();
        Printer v = new Printer("123");
        v.print();
    }
}
-----------
12
123    
```

ä½†æ˜¯è¿™æ ·å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼š



è¿™é‡Œå¼•å‡ºç±»å‹å®‰å…¨é—®é¢˜ï¼ŒæœŸæœ›åœ¨ç¼–è¯‘çš„æ—¶å€™å°±å‘ç°å¼‚å¸¸ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ã€‚

> ## å®‰å…¨é—®é¢˜
>
> å› ä¸ºObjectç±»å‹å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨å®é™…çš„ä½¿ç”¨ä¸­ï¼Œä¼šå­˜åœ¨ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œæ‰€ä»¥Javaæä¾›äº†**æ³›å‹**æ¥è§£å†³è¿™ä¸ªå®‰å…¨é—®é¢˜ã€‚
>
> æ³›å‹èƒŒæ™¯ï¼šç”¨Objectå»æ¥æ”¶å„ç§æ•°æ®çš„è¯ï¼Œè¿™äº›æ•°æ®éƒ½ä¼šè‡ªåŠ¨å‘ä¸Šè½¬å‹ä¸ºObjectï¼Œæ‰€ä»¥Objectå¯¹è±¡éšä¾¿æ¥æ”¶å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œå¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å†è¿›è¡Œä¸€æ¬¡å‘ä¸‹è½¬å‹ï¼Œå¦åˆ™å¾ˆå¤šæ“ä½œéƒ½æ— æ³•è¿›è¡Œã€‚æ¯”å¦‚Object o = 5ï¼Œå°±æ˜¯å°†Integerè½¬ä¸ºObjectï¼Œå¦‚æœä¸å‘ä¸‹è½¬å‹çš„è¯ï¼Œè¿™ä¸ªObjectçš„oæ˜¯æ— æ³•è¿›è¡ŒåŠ å‡ä¹˜é™¤æ“ä½œçš„ã€‚ä½†æ˜¯è½¬å‹åªèƒ½å‘ç”Ÿåœ¨æœ‰ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»ä¸­ï¼Œæ‰€ä»¥ç›²ç›®çš„å¯¹æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ç±»è¿›è¡Œå¼ºåˆ¶è½¬å‹å°±å®¹æ˜“å¼•èµ·è½¬å‹å¼‚å¸¸(ClassCastException)
>
> æ¥çœ‹ä¸€ä¸ªç»å…¸æ¡ˆä¾‹ï¼š
>
> ```java
> import java.util.ArrayList;
> public static void main(String[] args) {
>     ArrayList arrayList = new ArrayList();
>     arrayList.add("helloWorld");
>     arrayList.add("taiziyenezha");
>     arrayList.add(88);
>     
>     // éœ€æ±‚ï¼šæ‰“å°æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦
>     for (int i = 0; i < arrayList.size(); i++) {
>         String str = (String) arrayList.get(i);
>         System.out.println(str.length());
>     }
> }
> ```
>
> è¿è¡Œè¿™æ®µä»£ç ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶å‘ç”Ÿäº†å¼‚å¸¸ï¼š
> `Exception in thread "main" java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String`
> å‘ç”Ÿäº†æ•°æ®ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ
>
> ç”±äºArrayListå¯ä»¥å­˜æ”¾ä»»æ„ç±»å‹çš„å…ƒç´ ã€‚ä¾‹å­ä¸­æ·»åŠ äº†ä¿©Stringç±»å‹ï¼Œä¸€ä¸ªIntegerç±»å‹ï¼Œåœ¨ä»£ç è¿è¡Œåˆ°Integerç±»å‹çš„å€¼æ—¶ï¼Œéœ€è¦å¼ºè½¬ä¸ºStringç±»å‹ï¼Œè¿è¡Œåˆ°è¿™ä¸€æ­¥çš„æ—¶å€™å°±æŠ¥é”™äº†ã€‚å› ä¸ºIntegerç±»å‹æ˜¯ä¸èƒ½å¼ºè½¬ä¸ºStringç±»å‹çš„ï¼Œå³å¼•å‘äº†ClassCastExceptionï¼Œå› æ­¤ç¨‹åºå´©æºƒäº†ã€‚
>
> è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ï¼Œå¦‚æœç¨‹åºæœ‰æ½œåœ¨çš„é”™è¯¯ï¼Œæˆ‘ä»¬æ›´æœŸæœ›åœ¨ç¼–è¯‘æ—¶è¢«å‘ŠçŸ¥é”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶æŠ¥å¼‚å¸¸ã€‚è€Œä¸ºäº†è§£å†³ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼ˆåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥è§£å†³ï¼‰ï¼Œåœ¨jdk1.5åï¼Œæ³›å‹åº”è¿è€Œç”Ÿã€‚è®©ä½ åœ¨è®¾è®¡APIæ—¶å¯ä»¥æŒ‡å®šç±»æˆ–æ–¹æ³•æ”¯æŒæ³›å‹ï¼Œè¿™æ ·æˆ‘ä»¬ä½¿ç”¨APIçš„æ—¶å€™ä¹Ÿå˜å¾—æ›´ä¸ºç®€æ´ï¼Œå¹¶å¾—åˆ°äº†ç¼–è¯‘æ—¶æœŸçš„è¯­æ³•æ£€æŸ¥ã€‚
>
> æˆ‘ä»¬å°†ç¬¬ä¸€è¡Œå£°æ˜åˆå§‹åŒ–ArrayListçš„ä»£ç æ›´æ”¹ä¸€ä¸‹ï¼Œç¼–è¯‘å™¨å°±ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½å¤Ÿå¸®æˆ‘ä»¬å‘ç°ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ã€‚ç°åœ¨å†çœ‹çœ‹æ•ˆæœã€‚
> ArrayList\<String> arrayList = new ArrayList<>();
> arrayList.add("helloWorld");
> arrayList.add("taiziyenezha");
> arrayList.add(88);// åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™
> è¿™æ ·å¯ä»¥é¿å…äº†æˆ‘ä»¬ç±»å‹å¼ºè½¬æ—¶å‡ºç°å¼‚å¸¸ã€‚

å› æ­¤ï¼Œæ³›å‹åº”è¿è€Œç”Ÿï¼Œä¸€æ–¹é¢å¯ä»¥æé«˜ä»£ç å¤ç”¨ï¼Œå¦ä¸€æ–¹é¢è§£å†³ç±»å‹å®‰å…¨é—®é¢˜ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æ³›å‹æ€ä¹ˆè§£å†³é—®é¢˜ï¼š

ç°åœ¨æˆ‘ä»¬ç”¨æ³›å‹æ¥é‡å†™ä¸€ä¸‹æ­¤åŠŸèƒ½ï¼š

```java
public class Printer<T> {     
    T t;               // tæ˜¯æ³›å‹å˜é‡
    Printer(T t) {
        this.t
    }
    public void print() {
        System.out.println(t);
    }
}
```

```java
public class Main {
    public static void main(String[] args) {
        Printer<Integer> p = new Printer<Integer>(12);
        p.print();    // 12
        Printer<String> s = new Printer<String>("hello");
        s.print();   // hello
    }
}
```

çœ‹ä¸Šé¢çš„ä¾‹å­å¯çŸ¥ï¼š

åœ¨ç±»çš„å®šä¹‰ä¸­å‡ºç°çš„ `<T>` ï¼Œå…¶ä¸­ `T`æ˜¯å½¢å¼å‚æ•°ï¼Œ`Integer`ï¼Œ`String`æ˜¯å®å‚ã€‚

æ³¨æ„ï¼š

1. **å®å‚ä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåªèƒ½æ˜¯ç±»ã€‚**
2. Tæ˜¯å½¢å‚åè€Œå·²ï¼Œä¹Ÿå¯ä»¥å†™æˆå…¶ä»–ç¬¦å·ã€‚

å› æ­¤ï¼Œæ³›å‹çš„æ¦‚å¿µå°±æ˜¯**å°†  å¯¹è±¡çš„ç±»å‹ å‚æ•°åŒ–**



åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ³›å‹æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ç±»ã€æ–¹æ³•ã€æ¥å£ä¸­æ˜¯å¦‚ä½•ä½“ç°æ³›å‹çš„ï¼š

## æ³›å‹ç±»

```java
//æ³›å‹ç±»çš„åŸºæœ¬æ ¼å¼ï¼š
[æƒé™ä¿®é¥°ç¬¦] class ç±»å<å½¢å‚åˆ—è¡¨>{} 
```

è¡¥å……ï¼š

1. `å½¢å‚åˆ—è¡¨`æ„å‘³ç€å¯ä»¥ä¼ å¤šä¸ªå‚æ•°è¿›å»

   ```java
   public class Identity <T,K>{
       T t;
       K k;
       Identity(T t,K k) {
           this.t = t;
           this.k = k;
       }
       public void print() {
           System.out.println(k+"çš„èº«ä»½è¯å·:"+t);
       }
   }
   ```

   ```java
   public class Main {
       public static void main(String[] args) {
           Identity<Integer,String> i =
                   new Identity<Integer,String>(12345678,"å°æ˜");
           i.print();    //  å°æ˜çš„èº«ä»½è¯å·:12345678
       }
   }
   ```

2. å®šä¹‰çš„æ³›å‹ç±»ï¼Œä¸æ˜¯å¿…é¡»ä¼ å…¥æ³›å‹ç±»å‹å®å‚ï¼Œä¹Ÿå¯ä»¥ä¸ä¼ ï¼Œä½†ä¼šå‡ºç°ç±»å‹å®‰å…¨é—®é¢˜ã€‚
   åœ¨ä½¿ç”¨æ³›å‹çš„æ—¶å€™å¦‚æœä¸ä¼ å…¥æ³›å‹ç±»å‹å®å‚çš„è¯

   ```java
   public class Identity <T,K>{
       T t;
       K k;
       Identity(T t,K k) {
           this.t = t;
           this.k = k;
       }
       public void print() {
           System.out.println(k+"çš„èº«ä»½è¯å·:"+t);
       }
   }
   ```

   ```java
   // å¦‚æœä¸Šé¢çš„æ³›å‹ä¸ç”¨çš„è¯ï¼Œå³ä¸ä¼ å®å‚çš„è¯ï¼š
   
   public class Main {
       public static void main(String[] args) {
           Identity i = new Identity();  // è¿™é‡Œæ²¡æœ‰ä¼ ç±»å‹å‚æ•°ï¼Œæ­¤æ—¶è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ
       }
   }
   ```

   ```java
   public class Identity {          //ä¸ä½¿ç”¨æ³›å‹çš„è¯å°±æŒ‰è¿™ä¸ªåŠã€‚
       Object t;
       Object k;
       Identity(Object t,Object k) {
           this.t = t;
           this.k = k;
       }
       public void print() {
           System.out.println(k+"çš„èº«ä»½è¯å·:"+t);
       }
   }
   
   æˆ–è€…
   
   Identity<Object,Object> i = new Identity<Object,Object>();  //ä¼ Objectçš„è¯ï¼Œç›¸å½“äºæ²¡æœ‰ä½¿ç”¨æ³›å‹
   ```

   ```java
   //å› æ­¤ï¼Œç¬¬äºŒå—ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š
   
   public class Main {
       public static void main(String[] args) {
           // å› æ­¤ï¼Œè¿™é‡Œéœ€è¦ä¸¤ä¸ªä»»æ„ç±»å‹çš„å¯¹è±¡ä¼ è¿›å»å³å¯ï¼Œè¿™é‡Œæˆ‘ä¾æ—§ç”¨integerå’ŒStringç±»å¯¹è±¡å°±è¡Œã€‚
           String name = "å°æ˜";
           Integer id = 123456789;
           Identity i = new Identity(name,id);  
           i.print();
       }
   }
   ```

3. æ³›å‹ç±»çš„æ´¾ç”Ÿ

   ```java
   public class Father<E> {
       E e;
   }
   
   //1.æ´¾ç”Ÿç±»é‡Œä¼ ç»™Tï¼ŒKã€‚åˆæŠŠTä¼ ç»™çˆ¶ç±»çš„Eã€‚
   public class Son<T,K> extends Father<T>{}  
   
   //2.å¦‚æœä¸ç»™çˆ¶ç±»ä¼ ç±»å‹å®å‚çš„è¯ï¼Œé‚£ä¼ ç»™çˆ¶ç±»çš„ç±»å‹å½¢å‚çš„å°±æ˜¯Object
   public class Son<T,k> extends Father{} 
   
   //3.ä¹Ÿå¯ä»¥ç»™çˆ¶ç±»ä¼ å…·ä½“çš„ç±»
   public class Son extends Father<String>{}
   ```

4. å¦‚æœåœ¨æ³›å‹ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨äº†`ç±»å‹å½¢å‚`å°±ä¸èƒ½å£°æ˜ä¸ºstatic

   ```java
   public class Father <E>{
       public static E print(){}  //ä¼šæŠ¥é”™
   }
   ```

   åŸå› å¾ˆç®€å•ï¼Œæˆ‘ä»¬çš„Eåªæœ‰åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æ‰ä¼šæŠŠå…·ä½“çš„ç±»ä¼ ç»™Eï¼Œè€Œstaticæ–¹æ³•å¯ä»¥ä¸ç”¨åˆ›å»ºå¯¹è±¡å°±ä½¿ç”¨ã€‚è¿™æ ·å°±çŸ›ç›¾äº†ã€‚ä¸€ä¼šæˆ‘ä»¬ä¼šå­¦ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œæ³›å‹æ–¹æ³•å¯ä»¥è¢«staticä¿®é¥°æ˜¯å› ä¸ºï¼Œæ³›å‹æ–¹æ³•ä¸­å®šä¹‰äº†ä¼ å‚çš„å…¥å£ã€‚è€Œè¿™ä¸ªæ–¹æ³•ä¸æ˜¯æ³›å‹æ–¹æ³•ï¼Œå› ä¸ºè¯¥æ–¹æ³•æ²¡æœ‰ä¼ å‚å…¥å£ï¼Œä¼ å‚å…¥å£åœ¨æ³›å‹ç±»åé‚£ã€‚ä¼ å‚å…¥å£å°±æ˜¯`<å½¢å‚åˆ—è¡¨>`

## æ³›å‹æ¥å£

```java
[æƒé™ä¿®é¥°ç¬¦] interface æ¥å£å<ç±»å‹å½¢å‚åˆ—è¡¨>{}
```



```java
//å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£
public interface Generator<E> {
    public E next();
}

//1.å®ç°ç±»å°†Tä¼ ç»™E
public class Father<T> implements Generator<T>{}

//2.å¦‚æœä¸ç»™æ¥å£ä¼ ç±»å‹å®å‚çš„è¯ï¼Œé‚£ä¼ ç»™æ¥å£çš„ç±»å‹å½¢å‚çš„å°±æ˜¯Object
public class Father<T,k> implements Generator{} 

//3.å®ç°ç±»å¯ä»¥ä¼ å…·ä½“ç±»
public class Father<T> implements Generator<String>{}
```



## æ³›å‹æ–¹æ³•

```java
[æƒé™ä¿®é¥°ç¬¦] <ç±»å‹å½¢å‚åˆ—è¡¨> è¿”å›å€¼ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) {}
```

```java
public class Main {
    public static <T> T print(T t) {   //å¯ä»¥è¢«staticä¿®é¥°ï¼Œå› ä¸ºæœ‰ä¼ ç±»å‹å‚æ•°çš„å…¥å£,<T>
        System.out.println(t);
        return t;
    }
    public static void main(String[] args) {
        String s = "hello";
        Integer i = 22;
        print(s);      //ä¼ sçš„åŒæ—¶å°†Stringä¼ ç»™äº†Tï¼Œè¿™æ˜¯ç¼–è¯‘å™¨è‡ªè¡Œæ¨æ–­å‡ºæ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®å‚ä¼ é€’å°±æ˜¯ç±»å‹ä¼ é€’çš„å…¥å£ã€‚
        print(i);      //ä¼ içš„åŒæ—¶å°†Integerä¼ ç»™äº†T
        System.out.println(print(i));
    }
}
----------
hello
22
22
22    
```

å½“ç„¶ä¹Ÿä¸å¼ºåˆ¶è¦æ±‚å¿…é¡»è¢«staticä¿®é¥°ï¼Œå…·ä½“ä¸å†ä¸¾ä¾‹å­ã€‚



**å¯å˜å‚æ•°**

å¯å˜å‚æ•°æ˜¯æ•°æ®ç±»å‹ç¡®å®šï¼Œä½†æ˜¯æ•°æ®ä¸ªæ•°ä¸ç¡®å®š

```java
public void foo(String...varargs){}

foo("arg1", "arg2", "arg3");

//ä¸Šè¿°è¿‡ç¨‹å’Œä¸‹é¢çš„è°ƒç”¨æ˜¯ç­‰ä»·çš„
foo(new String[]{"arg1", "arg2", "arg3"});
```

å¯¹æ¯”ä¸‹é¢çš„ï¼š

```java
public class Main {
    public static <E> void print(E... e) {   //eæ˜¯Eç±»å‹çš„æ•°ç»„çš„æ•°ç»„å
        for(E e1 : e) {
            System.out.println(e1);
        }
    }
    public static void main(String[] args) {
        print(1,2,3);        //æ³¨æ„å¿…é¡»æ˜¯åŒä¸€ç±»çš„å¯¹è±¡ã€‚è¦æ˜¯Integeréƒ½æ˜¯Integer
        print("hello","world");    //è¦æ˜¯Stringéƒ½æ˜¯String
    }
}
```







## çº¦æŸ

å¯¹ä¼ å…¥ç±»å‹è¿›è¡Œé™åˆ¶ï¼š

```java
// ä¸‹é¢è¦æ±‚å‚æ•°Tåªæ¥æ”¶Animalç±»åŠå…¶å­ç±»ã€‚
public class Person<T extends Animal>{}
```

ä¸¾ä¸ªä¾‹å­ï¼š

```java
public class Animal {
    String name;
}
```

```java
public class Cat extends Animal{
    
}
```

```java
public class OrangeCat extends Cat{
    
}
```

```java
public class Person<T extends Animal> {   // è¯¥å‚æ•°Tåªæ¥æ”¶Animalä»¥åŠAnimalçš„æ‰€æœ‰å­ç±»
    T t;
    Person(T t){
        this.t = t;
    }
    public void PrintName(){
       // å› æ­¤ï¼Œåœ¨è¯¥ç±»ä¸­ï¼Œç±»å‹ä¸ºTçš„å¯¹è±¡tå¯ä»¥ä½¿ç”¨Animalç»§æ‰¿ä¸‹å»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºè¯¥å¯¹è±¡ç»§æ‰¿äº†Animal
        System.out.println(t.name);
    }
}
```

```java
public class Main {
    public static void main(String[] args) {
        // Animalå¯ä»¥ä¼ è¿›å»
        Animal a = new Animal();
        Person<Animal> t = new Person<Animal>(a);
        t.print();
        // ç›´æ¥å­ç±»Catä¹Ÿèƒ½ä¼ è¿›å»
        Cat c = new Cat();
        Person<Cat> p = new Person<Cat>(c);
        p.print();
        // å­ç±»çš„å­ç±»OrangeCatä¹Ÿèƒ½ä¼ è¿›å»
        OrangeCat o = new OrangeCat();
        Person<OrangeCat> q = new Person<OrangeCat>(o);
        q.print();
    }
}
```



(extends)çº¦æŸæ¥å£

```java
// Idæ˜¯ä¸€ä¸ªæ¥å£ï¼Œ
<T extends Id>
// Tå¯ä»¥æ¥æ”¶Idçš„å­æ¥å£æˆ–Idçš„å®ç°ç±»ï¼Œæˆ‘è¯•äº†ä¸€ä¸‹éƒ½æ²¡å•¥é—®é¢˜ã€‚
```



æ€»ç»“ï¼šextendsåé¢å¯ä»¥æ¥ æ¥å£æˆ–ç±»ï¼Œçº¦æŸç±»å‹å‚æ•°æ˜¯å…¶å­æ¥å£æˆ–å®ç°ç±»ã€å­ç±»ã€‚



å¤šç»‘å®š

```java
<T extends Comparable & Serializable, U extends Runnable>
<T extends Animal & Comparable>  //å¦‚æœTç»‘å®šäº†ç±»å’Œæ¥å£ï¼Œç±»å¿…é¡»å†™åœ¨æ¥å£çš„å‰é¢ã€‚
// T å¯ä»¥ç»‘å®šå¤šä¸ªæ¥å£ï¼Œä½†æ˜¯åªèƒ½ç»‘å®šä¸€ä¸ªç±»ï¼Œå› ä¸ºç±»æ˜¯æ²¡æœ‰å¤šç»§æ‰¿ç‰¹æ€§çš„ï¼Œå³ç±»åªæœ‰ä¸€ä¸ªçˆ¹ã€‚
```





## å¸¸è§æ ‡è®°ç¬¦

**java ä¸­æ³›å‹å¸¸ç”¨çš„æ ‡è®°ç¬¦ï¼š**

çº¦å®šä¿—æˆçš„æˆ–è€…è¯´å®˜æ–¹å°±æ˜¯è¿™æ ·ç”¨çš„ã€‚

- **E** - Element (åœ¨é›†åˆä¸­ä½¿ç”¨ï¼Œå› ä¸ºé›†åˆä¸­å­˜æ”¾çš„æ˜¯å…ƒç´ )
- **T** - Typeï¼ˆJava ç±»ï¼‰
- **K** - Keyï¼ˆé”®ï¼‰
- **V** - Valueï¼ˆå€¼ï¼‰
- **N** - Numberï¼ˆæ•°å€¼ç±»å‹ï¼‰



## ç±»å‹é€šé…ç¬¦(wildcard)

java ä¸­æ³›å‹é€šé…ç¬¦ï¼š

**ï¼Ÿ** - æ˜¯ç±»å‹å®å‚ï¼Œ

[07_ç±»å‹é€šé…ç¬¦_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1xJ411n77R?p=7&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

[æ³›å‹çš„ä¸Šä¸‹é™è¦æ€ä¹ˆç†è§£_æ³›å‹ä¸Šé™-CSDNåšå®¢](https://blog.csdn.net/weixin_40251892/article/details/109063161)

[05ã€é¢å‘å¯¹è±¡é«˜çº§ä¸‰ï¼šæ³›å‹æ–¹æ³•ã€æ³›å‹çš„é€šé…ç¬¦å’Œæ³›å‹çš„ä¸Šä¸‹é™ã€æ³›å‹æ³¨æ„äº‹é¡¹_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=115&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

è¿™ä¸ªè·Ÿé›†åˆæœ‰å…³ï¼Œå…ˆä¸çœ‹ã€‚



æ³›å‹æ“¦é™¤

å®ƒæä¾›äº†ç¼–è¯‘æœŸçš„**ç±»å‹å®‰å…¨**ï¼Œé¿å…äº†åœ¨è¿è¡Œæ—¶å‡ºç°ClassCastExceptionã€‚

æ³›å‹æ˜¯å·¥ä½œåœ¨ç¼–è¯‘é˜¶æ®µçš„ï¼Œä¸€æ—¦ç”Ÿæˆclassæ–‡ä»¶ï¼Œæ³›å‹å°±è¢«æ“¦é™¤äº†ã€‚



## æ³›å‹ä¸æ•°ç»„

[12_æ³›å‹ä¸æ•°ç»„_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1xJ411n77R?p=12&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

è¿™æ˜¯é›†åˆçš„é›†åˆå•Šã€‚è¿™ä¸ªä¸çœ‹äº†ã€‚



# å¯¹è±¡æ¯”è¾ƒå™¨

æˆ‘ä»¬çŸ¥é“åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ï¼ˆé™¤booleanç±»å‹å¤–ï¼‰éœ€è¦æ¯”è¾ƒå¤§å°çš„è¯ï¼Œä¹‹é—´ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦å³å¯ï¼Œä½†æ˜¯å¼•ç”¨æ•°æ®ç±»å‹æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ¥æ¯”è¾ƒå¤§å°çš„ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ

Javaå®ç°å¯¹è±¡æ’åºçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š

- å†…éƒ¨æ¯”è¾ƒå™¨ï¼šjava.lang.Comparable
- å¤–éƒ¨æ¯”è¾ƒå™¨ï¼šjava.util.Comparator

## Comparable

Comparableæ˜¯ä¸ªæ¥å£ï¼Œä¸‹é¢æ˜¯å…¶å®šä¹‰ï¼š

```java
public interface Comparable<T> {
    public int compareTo(T o);
}
```

`<T>`ä¸èŒƒå‹æœ‰å…³ï¼Œå…ˆå¿½ç•¥æ‰ï¼Œæˆ‘ä»¬å°±å½“æˆä¸‹é¢è¿™æ ·å°±å¯ä»¥äº†ã€‚(å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨èŒƒå‹çš„ç‰¹ç‚¹ï¼Œæºç å°±æ˜¯è¿™æ ·)

```java
public interface Comparable {
    public int compareTo(Object o);
}
```

æˆ‘ä»¬çœ‹åˆ°Comparableæ¥å£åªæœ‰ä¸€ä¸ªcompareTo()æ–¹æ³•,è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªObjectç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬çŸ¥é“Objectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œå› æ­¤è¯¥æ–¹æ³•æ¥æ”¶ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼ˆå¤šæ€æ€§ï¼‰



ä¸¾ä¾‹è¯´æ˜Comparableæ¥å£çš„ä½¿ç”¨ï¼Œçœ‹çœ‹Comparableæ¥å£å¦‚ä½•å®ç°å¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒçš„ï¼š

```java
// 1.ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•

public class Person implements Comparable<Person> {
	String name;
	int age;
	
	public Person(String name, int age) {
		this.name = name;
		this.age = age;
	}

    /*
    *	åœ¨compareToæ–¹æ³•ä¸­ç¼–å†™ï¼š*è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡*ä¸*å½¢å‚å¯¹è±¡*çš„æ¯”è¾ƒè§„åˆ™
    */
	@Override
	public int compareTo(Person o) {  
		return this.age - o.age;
	}
    /* è¯¥æ–¹æ³•ä¸­ï¼š
    * 	å¦‚æœå½“å‰å¯¹è±¡çš„å¹´é¾„å¤§äºå½¢å‚å¯¹è±¡çš„å¹´é¾„ï¼Œç›¸å‡çš„ç»“æœæ˜¯ä¸ªæ­£æ•´æ•°ã€‚
    *	å¦‚æœå½“å‰å¯¹è±¡çš„å¹´é¾„ç­‰äºå½¢å‚å¯¹è±¡çš„å¹´é¾„ï¼Œå€¼ä¸º0
    *	å¦‚æœå½“å‰å¯¹è±¡çš„å¹´é¾„å°äºå½¢å‚å¯¹è±¡çš„å¹´é¾„ï¼Œå€¼ä¸ºè´Ÿæ•´æ•°
    */	
}
```

```java
import java.util.Arrays;   

public class Test {

	public static void main(String[] args) {
        Person p1 = new Person("å¼ ä¸‰", 20);
        Person p2 = new Person("æå››", 18);
        if(p1.compareTo(p2) > 0) {
            System.out.println("å¼ ä¸‰çš„å¹´é¾„æ¯”æå››å¤§");
        }
}
------------
å¼ ä¸‰çš„å¹´é¾„æ¯”æå››å¤§    
```

è¿™æ ·å°±å®ç°äº†å¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒã€‚



å¦‚ä½•å®ç°å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„æ’åºå‘¢ï¼Ÿ

å¯ä»¥ä½¿ç”¨Collections.sort æˆ– Arrays.sortè¿›è¡Œè‡ªåŠ¨æ’åºã€‚ï¼ˆCollectionsè¿˜æ²¡å­¦ï¼Œæˆ‘ä»¬ç›®å‰åªçœ‹Arraysï¼‰

Arraysç±»åŒ…å«æœ‰æ“ä½œæ•°ç»„çš„ä¸€äº›æ–¹æ³•ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†å¾…æ’åºçš„å¯¹è±¡å­˜æ”¾åœ¨æ•°ç»„ä¸­ã€‚

```java
import java.util.Arrays;   //å…ˆå¯¼å…¥Arraysç±»

public class Test {
	public static void main(String[] args) {
		Person p1 = new Person("zhangsan", 20);
		Person p2 = new Person("lisi", 18);
		Person p3 = new Person("wangwu", 25);
		
		Person[] persons = {p1, p2, p3};   //å°†å¾…æ’åºå¯¹è±¡å­˜æ”¾åœ¨æ•°ç»„ä¸­
		System.out.println("æ’åºå‰");
		for (Person person : persons) {
			System.out.println(person.name + ":" + person.age);
		}
		// ä½¿ç”¨Arrays.sort()å¯¹personsæ•°ç»„è¿›è¡Œæ’åºã€‚
		Arrays.sort(persons);
		System.out.println("æ’åºå");
		for (Person person : persons) {
			System.out.println(person.name + ":" + person.age);
		}
	}
}
------------------------
æ’åºå‰
zhangsan:20
lisi:18
wangwu:25
æ’åºå
lisi:18
zhangsan:20
wangwu:25    
```

ä¸‹é¢æ˜¯Arrays.sort()æ–¹æ³•çš„æºç ï¼š

```java
    /**
     * Sorts the specified array of objects into ascending order, according
     * to the {@linkplain Comparable natural ordering} of its elements.
     * All elements in the array must implement the {@link Comparable}
     * interface.  Furthermore, all elements in the array must be
     * <i>mutually comparable</i> (that is, {@code e1.compareTo(e2)} must
     * not throw a {@code ClassCastException} for any elements {@code e1}
     * and {@code e2} in the array).
     *
     * <p>This sort is guaranteed to be <i>stable</i>:  equal elements will
     * not be reordered as a result of the sort.
     *
     * <p>Implementation note: This implementation is a stable, adaptive,
     * iterative mergesort that requires far fewer than n lg(n) comparisons
     * when the input array is partially sorted, while offering the
     * performance of a traditional mergesort when the input array is
     * randomly ordered.  If the input array is nearly sorted, the
     * implementation requires approximately n comparisons.  Temporary
     * storage requirements vary from a small constant for nearly sorted
     * input arrays to n/2 object references for randomly ordered input
     * arrays.
     *
     * <p>The implementation takes equal advantage of ascending and
     * descending order in its input array, and can take advantage of
     * ascending and descending order in different parts of the the same
     * input array.  It is well-suited to merging two or more sorted arrays:
     * simply concatenate the arrays and sort the resulting array.
     *
     * <p>The implementation was adapted from Tim Peters's list sort for Python
     * (<a href="http://svn.python.org/projects/python/trunk/Objects/listsort.txt">
     * TimSort</a>).  It uses techniques from Peter McIlroy's "Optimistic
     * Sorting and Information Theoretic Complexity", in Proceedings of the
     * Fourth Annual ACM-SIAM Symposium on Discrete Algorithms, pp 467-474,
     * January 1993.
     *
     * @param a the array to be sorted
     * @throws ClassCastException if the array contains elements that are not
     *         <i>mutually comparable</i> (for example, strings and integers)
     * @throws IllegalArgumentException (optional) if the natural
     *         ordering of the array elements is found to violate the
     *         {@link Comparable} contract
     */
    public static void sort(Object[] a) {
        if (LegacyMergeSort.userRequested)
            legacyMergeSort(a);
        else
            ComparableTimSort.sort(a, 0, a.length, null, 0, 0);
    }
```

çœ‹ä¸æ‡‚æºç ä¸è¦ç´§ï¼Œæˆ‘ä»¬æ¥çœ‹æ–‡æ¡£æ³¨é‡Šï¼š![1709713295722](../Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8.assets/1709713295722.png)

> Sorts the specified array of objects into ascending order, according to the natural ordering of its elements. All elements in the array must implement the Comparable interface. Furthermore, all elements in the array must be mutually comparable (that is, e1.compareTo(e2) must not throw a ClassCastException for any elements e1 and e2 in the array).
>
> ç¿»è¯‘ä¸€ä¸‹ï¼šæ ¹æ®å¯¹è±¡æ•°ç»„çš„æ‰€æœ‰å…ƒç´ çš„è‡ªç„¶æ’åº(natural ordering)ï¼Œå°†è¯¥æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ•´ç†æˆ(sort)å‡åº(ascending order)ã€‚æ•°ç»„ä¸­æ‰€æœ‰çš„å…ƒç´ å¿…é¡»å®ç°Comparableæ¥å£ï¼Œè¿›ä¸€æ­¥è¯´ï¼Œæ•°ç»„ä¸­æ‰€æœ‰çš„å…ƒç´ å¿…é¡»mutually comparableï¼Œå³ e1.compareTo(e2)å¯¹äºæ•°ç»„ä¸­ä»»æ„e1ï¼Œe2ä¸èƒ½æŠ›ClassCastExceptionå¼‚å¸¸ã€‚
>
> å“¦ï¼Œmutuallyæ˜¯å…±åŒåœ°ï¼Œcomparableæ˜¯å¯æ¯”çš„ã€‚mutually comparableæ„æ€å°±æ˜¯è¯´ï¼Œå¯¹äºæ•°ç»„ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½å¿…é¡»æ˜¯å¯æ¯”çš„ã€‚
>
> > ä»€ä¹ˆæ˜¯natual orderingï¼Ÿä¸‹é¢æ˜¯å®šä¹‰
> >
> > This interface imposes a total ordering on the objects of each class that implements it. This ordering is referred to as the class's natural ordering, and the class's compareTo method is referred to as its natural comparison method.
> >
> > The interfaceæŒ‡çš„æ˜¯Comparableæ¥å£ï¼Œè¿™ä¸ªæ¥å£å¼ºåˆ¶è§„å®šäº†ä¸€ç§total orderingï¼Œtotal orderingæ˜¯ä¸€ç§æ•°å­¦æ¦‚å¿µï¼Œæˆ‘æŸ¥äº†ç™¾åº¦ï¼Œè®¤ä¸ºæ˜¯çº¿æ€§é¡ºåºã€‚
> >
> > è¿™ä¸ªæ¥å£å¯¹å®ç°è¯¥æ¥å£çš„ç±»çš„å¯¹è±¡è§„å®šäº†ä¸€ç§çº¿æ€§é¡ºåºï¼Œè¿™ä¸ªé¡ºåºè¢«ç§°ä¸ºè¯¥ç±»çš„natual orderingã€‚å¹¶ä¸”ï¼Œè¿™ä¸ªç±»çš„compareToæ–¹æ³•æ˜¯natual orderingçš„æ¯”è¾ƒæ–¹æ³•ï¼Œå³æ¯”è¾ƒè§„åˆ™ã€‚
>
> This sort is guaranteed to be stable: equal elements will not be reordered as a result of the sort.
>
> è¿™ä¸ªsortä¿è¯æ˜¯stableï¼Œå³ç›¸åŒçš„å…ƒç´ ä¸ä¼šè¢«é‡æ’ä¸ºä¸€ç§æ’åºç»“æœï¼Œæ„æ€å°±æ˜¯åªèƒ½ç®—ä½œä¸€ç§æ’åºç»“æœã€‚
>
> Implementation note: This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons. Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.
> The implementation takes equal advantage of ascending and descending order in its input array, and can take advantage of ascending and descending order in different parts of the the same input array. It is well-suited to merging two or more sorted arrays: simply concatenate the arrays and sort the resulting array.
> The implementation was adapted from Tim Peters's list sort for Python ( TimSort ). It uses techniques from Peter McIlroy's "Optimistic Sorting and Information Theoretic Complexity", in Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms, pp 467-474, January 1993.
> Params:
> a â€“ the array to be sorted
> Throws:
> ClassCastException â€“ if the array contains elements that are not mutually comparable (for example, strings and integers)
> IllegalArgumentException â€“ (optional) if the natural ordering of the array elements is found to violate the Comparable contract
>
> Implementation noteåº”è¯¥æ˜¯ä»‹ç»äº†è¯¥æ–¹æ³•å…·ä½“ä»£ç ä¸­çš„ä¸€äº›ä¿¡æ¯ã€‚
>
> é‚£ä¸Šé¢çš„å°±åº”è¯¥æ˜¯å¯¹é‚£ä¸ªæ–¹æ³•ä½¿ç”¨çš„è¯´æ˜ã€‚



## Comparator

ä¸¤ç§æƒ…å†µï¼š

- å½“å…ƒç´ çš„ç±»æ²¡æœ‰å®ç°java.lang.Comparableæ¥å£è€Œåˆä¸èƒ½ä¿®æ”¹ç±»çš„æ—¶å€™ï¼ˆä¾‹å¦‚ï¼šä¸€äº›ç¬¬ä¸‰æ–¹çš„ç±»ï¼Œä½ åªæœ‰.classæ–‡ä»¶ï¼Œæ²¡æœ‰æºæ–‡ä»¶ï¼‰å¦‚ä½•å®ç°å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒï¼Ÿ
- å¦‚æœä¸€ä¸ªç±»ï¼Œå®ç°äº†Comparableæ¥å£ï¼Œä¹ŸæŒ‡å®šäº†ä¸¤ä¸ªå¯¹è±¡çš„æ¯”è¾ƒå¤§å°çš„è§„åˆ™ï¼Œä½†æ˜¯æ­¤æ—¶æ­¤åˆ»æˆ‘ä¸æƒ³æŒ‰ç…§å®ƒé¢„å®šä¹‰çš„æ–¹æ³•æ¯”è¾ƒå¤§å°ï¼Œä½†æ˜¯æˆ‘åˆä¸èƒ½ä¿®æ”¹compareToæ–¹æ³•ï¼Œå› ä¸ºä¼šå½±å“å…¶ä»–åœ°æ–¹çš„ä½¿ç”¨ï¼Œåˆè¯¥æ€ä¹ˆåŠï¼Ÿ

JDKåœ¨è®¾è®¡ç±»åº“ä¹‹åˆï¼Œä¹Ÿè€ƒè™‘åˆ°è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥åˆå¢åŠ äº†ä¸€ä¸ªjava.util.Comparatoræ¥å£ã€‚



ä¸¾ä¾‹è¯´æ˜Comparatorçš„ä½¿ç”¨ï¼š

Comparatorä¸­å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼šcompareæ–¹æ³•

```java
public interface Comparator<T>{
    int compare(T o1,T o2);
}

//è·Ÿä¸Šé¢ä¸€æ ·ï¼Œçœç•¥æ‰èŒƒå‹ï¼Œå³çœ‹æˆä¸‹é¢è¿™æ ·

public interface Comparator{
    int compare(Object o1,Object o2);
}
```

ä¸‹é¢æ˜¯è¯¥æ–¹æ³•çš„æ³¨é‡Šï¼š

> Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.
>
> è¿”å›å€¼æ˜¯è´Ÿæ•´æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°å°äºç¬¬äºŒä¸ªå‚æ•°
>
> è¿”å›å€¼æ˜¯0ï¼šä¿©å‚æ•°ç›¸ç­‰
>
> è¿”å›å€¼æ˜¯æ­£æ•´æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°å¤§äºç¬¬äºŒä¸ªå‚æ•°
>
> In the foregoing description, the notation sgn(expression) designates the mathematical signum function, which is defined to return one of -1, 0, or 1 according to whether the value of expression is negative, zero or positive.
> The implementor must ensure that sgn(compare(x, y)) == -sgn(compare(y, x)) for all x and y. (This implies that compare(x, y) must throw an exception if and only if compare(y, x) throws an exception.)
> The implementor must also ensure that the relation is transitive: ((compare(x, y)>0) && (compare(y, z)>0)) implies compare(x, z)>0.
> Finally, the implementor must ensure that compare(x, y)\==0 implies that sgn(compare(x, z))\==sgn(compare(y, z)) for all z.
> It is generally the case, but not strictly required that (compare(x, y)==0) \== (x.equals(y)). Generally speaking, any comparator that violates this condition should clearly indicate this fact. The recommended language is "Note: this comparator imposes orderings that are inconsistent with equals."
> Params:
> o1 â€“ the first object to be compared. o2 â€“ the second object to be compared.
> Returns:
> a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.
> Throws:
> NullPointerException â€“ if an argument is null and this comparator does not permit null arguments
> ClassCastException â€“ if the arguments' types prevent them from being compared by this comparator.

```java
public class Person {         
    String name;
    int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```



```java
import java.util.Comparator;

// å®šä¹‰ä¸€ä¸ªå®ç°Comparatoræ¥å£çš„ç±»
public class comparator implements Comparator {
	// é‡å†™compareæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®šä¹‰ä¸¤ä¸ªå¯¹è±¡çš„æ¯”è¾ƒè§„åˆ™
    @Override
    public int compare(Object o1, Object o2) {
        Person p1 = (Person) o1;
        Person p2 = (Person) o2;

        if(p1.age > p2.age) return 1;
        else if(p1.age == p2.age) return 0;
        else return -1;
    }
}

```

ç”¨Collections.sort æˆ– Arrays.sortæ–¹æ³•å®ç°å¯¹å¯¹è±¡æ•°ç»„çš„æ’åºã€‚è¿™é‡Œä¾æ—§ä»¥Arrays.sortä¸ºä¾‹ï¼š

```java
Person p1 = new Person("zhangsan", 20);
Person p2 = new Person("lisi", 18);
Person p3 = new Person("wangwu", 25);

Person[] persons = {p1, p2, p3};
System.out.println("æ’åºå‰");
for (Person person : persons) {
    System.out.println(person.name + ":" + person.age);
}

Arrays.sort(persons,new comparator()); //è°ƒç”¨Arrays.sortæ–¹æ³•ï¼ˆè·Ÿä¸Šé¢Comparableä¾‹å­ä¸­é‡è½½ï¼‰

System.out.println("æ’åºå");
for (Person person : persons) {
    System.out.println(person.name + ":" + person.age);
}

----------------
æ’åºå‰
zhangsan:20
lisi:18
wangwu:25
æ’åºå
lisi:18
zhangsan:20
wangwu:25    
```

ä¸‹é¢æ˜¯Arrays.sortæ–¹æ³•çš„ä»£ç ï¼š

```java
    /**
     * Sorts the specified array of objects according to the order induced by
     * the specified comparator.  All elements in the array must be
     * <i>mutually comparable</i> by the specified comparator (that is,
     * {@code c.compare(e1, e2)} must not throw a {@code ClassCastException}
     * for any elements {@code e1} and {@code e2} in the array).
     *
     * <p>This sort is guaranteed to be <i>stable</i>:  equal elements will
     * not be reordered as a result of the sort.
     *
     * <p>Implementation note: This implementation is a stable, adaptive,
     * iterative mergesort that requires far fewer than n lg(n) comparisons
     * when the input array is partially sorted, while offering the
     * performance of a traditional mergesort when the input array is
     * randomly ordered.  If the input array is nearly sorted, the
     * implementation requires approximately n comparisons.  Temporary
     * storage requirements vary from a small constant for nearly sorted
     * input arrays to n/2 object references for randomly ordered input
     * arrays.
     *
     * <p>The implementation takes equal advantage of ascending and
     * descending order in its input array, and can take advantage of
     * ascending and descending order in different parts of the the same
     * input array.  It is well-suited to merging two or more sorted arrays:
     * simply concatenate the arrays and sort the resulting array.
     *
     * <p>The implementation was adapted from Tim Peters's list sort for Python
     * (<a href="http://svn.python.org/projects/python/trunk/Objects/listsort.txt">
     * TimSort</a>).  It uses techniques from Peter McIlroy's "Optimistic
     * Sorting and Information Theoretic Complexity", in Proceedings of the
     * Fourth Annual ACM-SIAM Symposium on Discrete Algorithms, pp 467-474,
     * January 1993.
     *
     * @param <T> the class of the objects to be sorted
     * @param a the array to be sorted
     * @param c the comparator to determine the order of the array.  A
     *        {@code null} value indicates that the elements'
     *        {@linkplain Comparable natural ordering} should be used.
     * @throws ClassCastException if the array contains elements that are
     *         not <i>mutually comparable</i> using the specified comparator
     * @throws IllegalArgumentException (optional) if the comparator is
     *         found to violate the {@link Comparator} contract
     */
    public static <T> void sort(T[] a, Comparator<? super T> c) {
        if (c == null) {
            sort(a);
        } else {
            if (LegacyMergeSort.userRequested)
                legacyMergeSort(a, c);
            else
                TimSort.sort(a, 0, a.length, c, null, 0, 0);
        }
    }
```

å¯è§ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å®ç°Comparatoræ¥å£çš„ç±»ã€‚



# é›†åˆæ¡†æ¶

éœ€è¦å­¦ä¹ æ•°æ®ç»“æ„ï¼Œç›¸å½“äºc++é‡Œçš„stl

å­¦ä¼šå…·ä½“ä½¿ç”¨ï¼šAPIæ–‡æ¡£



javaä¸­Hashtable, Vector, TreeSet, LinkedListå“ªäº›çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Ÿ

HashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„
Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ArrayList
TreeSetå’ŒLinkedListéƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„





# streamæµ

JDK8æ–°ç‰¹æ€§ã€‚

java.util.stream

[07ã€JDK8æ–°ç‰¹æ€§ï¼šStreamæµå…¥é—¨ã€Streamæµçš„åˆ›å»º_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=149&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

è®²çš„éå¸¸å¥½

# Fileç±»ä¸IOæµ

## java.io.Fileç±»

### ä»‹ç»

ä¸€ä¸ª**Fileç±»çš„å¯¹è±¡**å¯¹åº”ç£ç›˜ä¸Šçš„æŸä¸ª**æ–‡ä»¶**æˆ–**æ–‡ä»¶å¤¹**ã€‚ä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ˜¯ç”±è·¯å¾„åå”¯ä¸€ç¡®å®šçš„ã€‚

è·¯å¾„ååˆ†ä¸ºç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„ã€‚è¿™é‡Œæˆ‘ä»¬åªç”¨ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºç›¸å¯¹è·¯å¾„æœ‰ç‚¹ç»•ã€‚



åœ¨windowsä¸­ï¼Œè·¯å¾„çš„è¡¨ç¤ºï¼š`D:\apps\7z` åˆ†éš”ç¬¦ç”¨ `\`

åœ¨javaä¸­è·¯å¾„çš„è¡¨ç¤ºï¼šå› ä¸ºwindowsè·¯å¾„ä¸­çš„åˆ†éš”ç¬¦ä¸javaä¸­çš„è½¬ä¹‰ç¬¦å†²çªï¼Œå› æ­¤javaä¸­è·¯å¾„çš„åˆ†å‰²ç¬¦å¯ä»¥ç”¨ `\\` ï¼Œè¿™ä¸ªä»£è¡¨çš„æ„æ€æ˜¯ ç¬¬ä¸€ä¸ª `\`æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œå°†ç¬¬äºŒä¸ªè½¬ä¹‰å­—ç¬¦ è½¬ä¹‰æˆ æ­£å¸¸çš„å­—ç¬¦ã€‚

æˆ–è€…åˆ†éš”ç¬¦ç”¨ `/`ã€‚ 

å½“ç„¶ä¹Ÿæ”¯æŒä¸¤è€…æ··ç”¨ï¼Œä½†æ˜¯æœ€å¥½åˆ«è¿™æ ·ç”¨ã€‚

 `D:\\apps\\7z`  æˆ–  `D:/apps/7z` æˆ– `D:/apps\\7z`



### æ„é€ å™¨

```java
File(String pathname)   

File(String parent, String child)
    
File(File parent, String child)    
```

ä¸¾ä¾‹è¯´æ˜ï¼šä¸ºå·²çŸ¥è·¯å¾„åçš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åˆ›å»ºFileç±»å¯¹è±¡ï¼Œä¸ºæ¥ä¸‹æ¥æ“ä½œè¯¥å¯¹è±¡(æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹)åšå‡†å¤‡

```java
import java.io.File;

public class Main {
    public static void main(String[] args) {
        
        // è°ƒç”¨File(String pathname)   
        File f = new File("D:\\apps\\7z");
        System.out.println(f);
        
        //File(String parent, String child)
        File f1 = new File("D:\\","apps\\7z");
        System.out.println(f1);
        
        // File(File parent, String child)
        File f2 = new File("D:\\");
        File f3 = new File(f2,"apps\\7z");
        System.out.println(f3);
    }
}
```

éœ€è¦æ³¨æ„ï¼š

```java
//ç”µè„‘çš„Dç›˜ä¸å­˜åœ¨helloæ–‡ä»¶å¤¹ï¼Œä¾æ—§å¯ä»¥åˆ›å»ºFileç±»å¯¹è±¡
File f = new File("D:\\hello");
```

å…·ä½“çš„å½±å“ä¸‹é¢æåˆ°ğŸ‘‡

### å¸¸ç”¨æ–¹æ³•

1ã€è·å–æ–‡ä»¶å’Œç›®å½•åŸºæœ¬ä¿¡æ¯

```java
public String getName() ï¼šè·å–åç§°
public String getPath() ï¼šè·å–è·¯å¾„
public String getAbsolutePath()`ï¼šè·å–ç»å¯¹è·¯å¾„
public File getAbsoluteFile()ï¼šè·å–ç»å¯¹è·¯å¾„è¡¨ç¤ºçš„æ–‡ä»¶
public String getParent()`ï¼šè·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„ã€‚è‹¥æ— ï¼Œè¿”å›null
public long length() ï¼šè·å–æ–‡ä»¶é•¿åº¦ï¼ˆå³ï¼šå­—èŠ‚æ•°ï¼‰ã€‚ä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦ã€‚
public long lastModified() ï¼šè·å–æœ€åä¸€æ¬¡çš„ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼
```

2ã€åˆ—å‡ºç›®å½•çš„ä¸‹ä¸€çº§

```java
public String[] list() ï¼šè¿”å›ä¸€ä¸ªStringæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­çš„æ‰€æœ‰å­æ–‡ä»¶æˆ–ç›®å½•ã€‚
public File[] listFiles() ï¼šè¿”å›ä¸€ä¸ªFileæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­çš„æ‰€æœ‰çš„å­æ–‡ä»¶æˆ–ç›®å½•ã€‚ 
```

3ã€Fileç±»çš„é‡å‘½ååŠŸèƒ½

```java
public boolean renameTo(File dest):æŠŠæ–‡ä»¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶è·¯å¾„ã€‚
```

4ã€åˆ¤æ–­åŠŸèƒ½çš„æ–¹æ³•

```java
public boolean exists()ï¼šæ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å®é™…å­˜åœ¨ã€‚
public boolean isDirectory() ï¼šæ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºç›®å½•ã€‚
public boolean isFile() ï¼šæ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºæ–‡ä»¶ã€‚
public boolean canRead() ï¼šåˆ¤æ–­æ˜¯å¦å¯è¯»
public boolean canWrite() ï¼šåˆ¤æ–­æ˜¯å¦å¯å†™
public boolean isHidden() ï¼šåˆ¤æ–­æ˜¯å¦éšè—
```

5ã€åˆ›å»ºã€åˆ é™¤åŠŸèƒ½

```java
public boolean createNewFile() ï¼šåˆ›å»ºæ–‡ä»¶ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¸åˆ›å»ºï¼Œè¿”å›falseã€‚
public boolean mkdir() ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºäº†ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•çš„ä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ï¼Œä¹Ÿä¸åˆ›å»ºã€‚
public boolean mkdirs() ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœä¸Šå±‚æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ï¼Œä¸€å¹¶åˆ›å»ºã€‚
public boolean delete() ï¼šåˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹
//åˆ é™¤æ³¨æ„äº‹é¡¹ï¼šâ‘  Javaä¸­çš„åˆ é™¤ä¸èµ°å›æ”¶ç«™ã€‚â‘¡ è¦åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ç›®å½•ï¼Œè¯·æ³¨æ„è¯¥æ–‡ä»¶ç›®å½•å†…ä¸èƒ½åŒ…å«æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•ã€‚
```

å› æ­¤å¯çŸ¥ï¼ŒFileç±»åªèƒ½å¯¹æ–‡ä»¶æœ¬èº«è¿›è¡Œæ“ä½œï¼Œä¸èƒ½è¯»å†™æ–‡ä»¶çš„æ•°æ®å†…å®¹ã€‚

## I/Oæµ

IOæµå°±æ˜¯ç”¨æ¥`è¯»` `å†™`æ–‡ä»¶æˆ–ç½‘ç»œä¸­çš„æ•°æ®å†…å®¹çš„ã€‚



# å¤šçº¿ç¨‹

å¹¶å‘ç¼–ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚

**volatileå…³é”®å­—**

[01.003-é¢„å¤‡çŸ¥è¯†_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV16J411h7Rd?p=3&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

Javaè¯­è¨€çš„JVMå…è®¸ç¨‹åºè¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œä½¿ç”¨`java.lang.Thread`ç±»ä»£è¡¨**çº¿ç¨‹**

## åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹

### æ–¹å¼1ï¼šç»§æ‰¿Threadç±»

Javaé€šè¿‡ç»§æ‰¿Threadç±»æ¥**åˆ›å»º**å¹¶**å¯åŠ¨å¤šçº¿ç¨‹**çš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. å®šä¹‰Threadç±»çš„å­ç±»ï¼Œå¹¶é‡å†™è¯¥ç±»çš„run()æ–¹æ³•ï¼Œè¯¥run()æ–¹æ³•çš„æ–¹æ³•ä½“å°±ä»£è¡¨äº†çº¿ç¨‹éœ€è¦å®Œæˆçš„ä»»åŠ¡
2. åˆ›å»ºThreadå­ç±»çš„å®ä¾‹ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡
3. è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚

ä¸¾ä¾‹ï¼š

```java
//1.å®šä¹‰ä¸€ä¸ªThreadç±»çš„å­ç±»
public class MyThread extends Thread {
    //å®šä¹‰æŒ‡å®šçº¿ç¨‹åç§°çš„æ„é€ æ–¹æ³•
    public MyThread(String name) {
        //è°ƒç”¨çˆ¶ç±»çš„Stringå‚æ•°çš„æ„é€ æ–¹æ³•ï¼ŒæŒ‡å®šçº¿ç¨‹çš„åç§°
        super(name);
    }
    /**
     * é‡å†™runæ–¹æ³•ï¼Œå®Œæˆè¯¥çº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘
     */
    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            System.out.println(getName()+"ï¼šæ­£åœ¨æ‰§è¡Œï¼"+i);
        }
    }
}
```

æµ‹è¯•ï¼š

```java
public class TestMyThread {
    public static void main(String[] args) {
        //åˆ›å»ºè‡ªå®šä¹‰çº¿ç¨‹å¯¹è±¡1
        MyThread mt1 = new MyThread("å­çº¿ç¨‹1");
        //å¼€å¯å­çº¿ç¨‹1
        mt1.start();
        
        //åˆ›å»ºè‡ªå®šä¹‰çº¿ç¨‹å¯¹è±¡2
        MyThread mt2 = new MyThread("å­çº¿ç¨‹2");
        //å¼€å¯å­çº¿ç¨‹2
        mt2.start();
        
        //åœ¨ä¸»æ–¹æ³•ä¸­æ‰§è¡Œforå¾ªç¯
        for (int i = 0; i < 10; i++) {
            System.out.println("mainçº¿ç¨‹ï¼"+i);
        }
    }
}
```

ä¸Šé¢çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåœ¨mainæ–¹æ³•è¿™ä¸ªä¸»çº¿ç¨‹ä¸­å¼€å¯äº†ä¸¤ä¸ªå­çº¿ç¨‹ï¼Œè¿™ä¸‰ä¸ªå­çº¿ç¨‹ä¸€èµ·æ‰§è¡Œã€‚

![img](../Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/Java%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8.assets/image-20220401221215860.jpeg)



- é—®é¢˜ï¼šåœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™ï¼Œä½¿ç”¨çš„è¯­å¥æ˜¯ `å¯¹è±¡å.start();`ï¼Œè¿™æ ·å°±ä¼šæ‰§è¡Œé‡å†™çš„`run()`æ–¹æ³•,é‚£ä¹ˆå¦‚æœç›´æ¥æ‰§è¡Œ `å¯¹è±¡å.run();`çš„è¯ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ

  å¦‚æœè‡ªå·±è°ƒç”¨run()æ–¹æ³•ï¼Œé‚£ä¹ˆå°±åªæ˜¯æ™®é€šæ–¹æ³•ï¼Œæ²¡æœ‰å¯åŠ¨å¤šçº¿ç¨‹ã€‚

- ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åªèƒ½è°ƒç”¨ä¸€æ¬¡start()æ–¹æ³•å¯åŠ¨ï¼Œå¦‚æœé‡å¤è°ƒç”¨äº†ï¼Œåˆ™å°†æŠ›å‡ºä»¥ä¸Šçš„å¼‚å¸¸â€œ`IllegalThreadStateException`â€ã€‚

- è¿™ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•çš„ç¼ºç‚¹ï¼š

  çº¿ç¨‹ç±»å·²ç»ç»§æ‰¿äº†Threadç±»ï¼Œå°±ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»äº†ï¼Œä¸åˆ©äºåŠŸèƒ½çš„æ‰©å±•ã€‚

### æ–¹å¼2ï¼šå®ç°Runnableæ¥å£

Javaæœ‰å•ç»§æ‰¿çš„é™åˆ¶ï¼Œå½“æˆ‘ä»¬æ— æ³•ç»§æ‰¿Threadç±»æ—¶ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•åšå‘¢ï¼Ÿåœ¨æ ¸å¿ƒç±»åº“ä¸­æä¾›äº†Runnableæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„ç±»ï¼Œç„¶åé‡å†™è¯¥æ¥å£é‡Œçš„run()æ–¹æ³•ï¼Œå†å°†è¯¥å®ç°ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªThreadç±»çš„å¯¹è±¡ï¼Œç„¶åç”¨è¯¥Threadç±»å¯¹è±¡è°ƒç”¨start()æ–¹æ³•ã€‚



ä¸¾ä¾‹ï¼š

```java
// 1. åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„å®ç°ç±»
public class MyRunnable implements Runnable {  
    // 2. é‡å†™runæ–¹æ³•
    @Override
    public void run() {  
        for (int i = 0; i < 20; i++) {
            System.out.println(Thread.currentThread().getName() + "Â " + i);
        }
    }
}

```

```java
public class TestMyRunnable {
    public static void main(String[] args) {
        //3. åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡
        MyRunnable mr = new MyRunnable();
        //4. å°†å®ç°ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨
        Thread t = new Thread(mr, "é•¿æ±Ÿ");
        //5. é€šè¿‡Threadç±»å¯¹è±¡è°ƒç”¨startæ–¹æ³•å¯åŠ¨å¤šçº¿ç¨‹ã€‚
        t.start();
        for (int i = 0; i < 20; i++) {
            System.out.println("é»„æ²³ " + i);
        }
    }
}
```



Threadç±»çš„æ„é€ å™¨ï¼š

åœ¨æ–¹å¼1ï¼šç»§æ‰¿Threadç±»çš„æ—¶å€™ç”¨ä¸åˆ°Threadç±»çš„æ„é€ å™¨ï¼Œè€Œåœ¨æ–¹å¼2ï¼šå®ç°Runnableæ¥å£çš„æ—¶å€™ä¼šç”¨åˆ°Threadç±»çš„æ„é€ å™¨ã€‚

```java
public Thread()   //  ç©ºå‚æ„é€ å™¨ï¼šnewä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å¹¶è¿”å›ã€‚
public Thread(String name) // newä¸€ä¸ªåå­—å«nameçš„çº¿ç¨‹å¯¹è±¡å¹¶è¿”å›ã€‚
public Thread(Runnable target) // è¿™é‡Œç”¨åˆ°äº†æ¥å£çš„å¤šæ€ï¼Œä¼ å…¥äº†ä¸€ä¸ªå®ç°Runnableæ¥å£çš„å®ç°ç±»çš„å¯¹è±¡ç»™targetï¼Œç”¨è¯¥å¯¹è±¡newä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å¹¶è¿”å›
public Thread(Runnable target,String name) //ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªçš„ç»„åˆã€‚
```







### åŒ¿åå†…éƒ¨ç±»ç®€åŒ–æ–¹æ³•1ã€2

**ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»å¯¹è±¡æ¥å®ç°çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨**

```java
new Thread("æ–°çš„çº¿ç¨‹ï¼"){
	@Override
	public void run() {
		for (int i = 0; i < 10; i++) {
			System.out.println(getName()+"ï¼šæ­£åœ¨æ‰§è¡Œï¼"+i);
		}
	}
}.start();
```

```java
new Thread(new Runnable(){
	@Override
	public void run() {
		for (int i = 0; i < 10; i++) {
			System.out.println(Thread.currentThread().getName()+"ï¼š" + i);
		}
	}
}).start();
```

**å®ç°Runnableæ¥å£æ¯”ç»§æ‰¿Threadç±»æ‰€å…·æœ‰çš„ä¼˜åŠ¿**

- é¿å…äº†å•ç»§æ‰¿çš„å±€é™æ€§

- å¢åŠ ç¨‹åºçš„å¥å£®æ€§ï¼Œå®ç°è§£è€¦æ“ä½œï¼Œ**ä»£ç å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«**ï¼Œä»£ç å’Œçº¿ç¨‹ç‹¬ç«‹ã€‚

- å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªæ¥å£å®ç°ç±»çš„å¯¹è±¡ï¼Œéå¸¸é€‚åˆå¤šä¸ªç›¸åŒçº¿ç¨‹æ¥å¤„ç†åŒä¸€ä»½èµ„æºã€‚

  è§£é‡Šï¼š

  å¦‚æœå¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä»½èµ„æºï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ

  1. ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼å®ç°

  ```java
  //1.å®šä¹‰ä¸€ä¸ªThreadç±»çš„å­ç±»
  public class MyThread extends Thread {
      // å°†è¯¥å±æ€§å£°æ˜ä¸ºstaticï¼Œæ ¹æ®è¯¥ç±»çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸”éƒ½å…±äº«ä¸€ä»½è¯¥å±æ€§ï¼Œé‚£ä¹ˆæ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥     // å±æ€§
      private static double money = 1000.0;       
      @Override
      public void run() {
          for (int i = 0; i < 10; i++) {
              System.out.println(getName()+"ï¼šæ­£åœ¨æ‰§è¡Œï¼"+i);
          }
      }
  }
  ```

  2. ä½¿ç”¨æ¥å£çš„æ–¹å¼å®ç°

  ```java
  // 1. åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„å®ç°ç±»
  public class MyRunnable implements Runnable {  
      //ç›¸æ¯”ä¸Šé¢çš„æ–¹å¼ï¼Œè¿™ä¸ªæ–¹å¼å¹¶ä¸éœ€è¦staticä¿®é¥°ï¼Œå› ä¸ºåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªåˆ›å»ºäº†ä¸€ä¸ªè¯¥ç±»å¯¹è±¡ï¼Œå¹¶å°†è¯¥     //å¯¹è±¡ä¼ é€’ç»™äº†Threadç±»çš„æ„é€ å™¨ï¼Œå› æ­¤æ— è®ºåˆ›å»ºå¤šå°‘ä¸ªThreadç±»çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å…±äº«çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå°±     //æ˜¯ä¸Šé¢åˆ›å»ºçš„é‚£ä¸ªå®ç°ç±»å¯¹è±¡ã€‚
      private double money = 1000.0;
      @Override
      public void run() {  
          for (int i = 0; i < 20; i++) {
              System.out.println(Thread.currentThread().getName() + "Â " + i);
          }
      }
  }
  ```

  ```java
  public class TestMyRunnable {
      public static void main(String[] args) {
          //3. åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡
          MyRunnable mr = new MyRunnable();
          //4. å°†å®ç°ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨
          Thread t = new Thread(mr, "é•¿æ±Ÿ");
          t.start();
          Thread p = new Thread(mr,"é’±å¡˜æ±Ÿ");
          p.start();
          // çº¿ç¨‹tå’Œçº¿ç¨‹på…±ç”¨å®ç°ç±»å¯¹è±¡mr
          for (int i = 0; i < 20; i++) {
              System.out.println("é»„æ²³ " + i);
          }
      }
  }
  ```

### æ–¹å¼3ï¼šå®ç°Callableæ¥å£

[02ã€å¤šçº¿ç¨‹ï¼šæ¦‚è¿°ã€çº¿ç¨‹åˆ›å»ºæ–¹å¼ä¸‰Callableã€åˆ›å»ºçš„å¸¸ç”¨æ–¹æ³•_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=176&spm_id_from=pageDriver&vd_source=5a374f315281b0338a0b7fd69b8b8e98)



## Threadç±»çš„å¸¸ç”¨æ–¹æ³•



## çº¿ç¨‹å®‰å…¨é—®é¢˜

volatileå…³é”®å­—

![1712237646915](Javaé«˜çº§åº”ç”¨.assets/1712237646915.png)

synchroziedå…³é”®å­—ç§°ä½œåŒæ­¥ï¼Œä¸»è¦ç”¨æ¥ç»™æ–¹æ³•ã€ä»£ç å—åŠ é”ï¼Œè¢«åŠ é”çš„ä»£ç æ®µï¼ŒåŒä¸€æ—¶é—´å†…å¤šçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€å¯¹è±¡çš„åŠ é”æ–¹æ³•/ä»£ç å—æ—¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œèƒ½æ‰§è¡Œæ–¹æ³•/ä»£ç å—ä¸­çš„ä»£ç ï¼Œå…¶ä½™çº¿ç¨‹å¿…é¡»ç­‰å¾…å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œä»¥åæ‰æ‰§è¡Œè¯¥æ–¹æ³•/ä»£ç å—ã€‚ 

  volatileå…³é”®å­—1.ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¯¥å˜é‡æ“ä½œçš„å†…å­˜å¯è§æ€§.(å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å˜é‡,å…¶ä»–ä½¿ç”¨æ¬¡å˜é‡çš„çº¿ç¨‹å¯ä»¥ç«‹å³çŸ¥é“è¿™ä¸€ä¿®æ”¹)ã€‚2.ç¦æ­¢äº†æŒ‡ä»¤é‡æ’åº. 

â€‹    Lockæ¥å£æä¾›äº†ä¸synchronizedå…³é”®å­—ç±»ä¼¼çš„åŒæ­¥åŠŸèƒ½ï¼Œä½†éœ€è¦åœ¨ä½¿ç”¨æ—¶æ‰‹åŠ¨è·å–é”å’Œé‡Šæ”¾é”ã€‚   

transientå…³é”®å­—  ç®€å•åœ°è¯´ï¼Œå°±æ˜¯è®©æŸäº›è¢«ä¿®é¥°çš„æˆå‘˜å±æ€§å˜é‡ä¸è¢«åºåˆ—åŒ–ã€‚



## çº¿ç¨‹åŒæ­¥

è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ–¹æ¡ˆã€‚



















# ç½‘ç»œç¼–ç¨‹

éœ€è¦IOæµä¸è®¡ç½‘çŸ¥è¯†ã€‚



[é˜¿é‡ŒäºŒé¢ï¼štransient å…³é”®å­—çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆåœºæ™¯ä¸‹ä¼šç”¨åˆ°ï¼Ÿ_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1CV4y1C7BJ/?spm_id_from=333.337.search-card.all.click&vd_source=5a374f315281b0338a0b7fd69b8b8e98)



# æ³¨è§£(annotation)

å…ˆäº†è§£å‡ ä¸ªï¼ŒçŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæ³¨è§£æ›´å¤šå†…å®¹åœ¨é˜…è¯»æºç ç¯èŠ‚ã€‚

# å•å…ƒæµ‹è¯•

åŸºç¡€é˜¶æ®µæ„Ÿè§‰æ²¡å¿…è¦å­¦ã€‚

[01ã€Javaé«˜çº§æŠ€æœ¯ï¼šJavaé«˜çº§æŠ€æœ¯ã€Junitå•å…ƒæµ‹è¯•æ¡†æ¶å…¥é—¨_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Pu411N7fH?p=1&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

# åå°„æœºåˆ¶

[02ã€Javaé«˜çº§ï¼šåå°„-è®¤è¯†åå°„ã€è·å–ç±»_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=192&vd_source=5a374f315281b0338a0b7fd69b8b8e98)

è·å–ç±»çš„å­—æ®µä¿¡æ¯ã€æ„é€ å™¨ã€æ–¹æ³•ä¿¡æ¯ç­‰ï¼Œä¸»è¦åº”ç”¨äºå¼€å‘æ¡†æ¶ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦å°†ä»»æ„ç±»çš„å¯¹è±¡çš„å­—æ®µä¿¡æ¯å’Œå­—æ®µå¯¹åº”çš„å€¼å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œ[05ã€Javaé«˜çº§ï¼šåå°„çš„ä½œç”¨ã€åº”ç”¨åœºæ™¯_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Cv411372m?p=195&vd_source=5a374f315281b0338a0b7fd69b8b8e98)











æ‡µé€¼çš„ä¸¤ä¸ªåœ°æ–¹ï¼š

ç¬¬ä¸€ä¸ªæ˜¯lambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨

ç¬¬äºŒä¸ªæ˜¯æ³›å‹çš„ï¼Ÿä¸ä¸Šä¸‹é™



